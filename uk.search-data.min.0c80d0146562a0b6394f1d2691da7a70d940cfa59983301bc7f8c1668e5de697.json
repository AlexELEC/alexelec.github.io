[{"id":0,"href":"/uk/docs/alexelec/docs/about/","title":"Огляд","section":"LibreELEC/CoreELEC (ae-fork)","content":" Завантаження образів та оновлення систем # LibreELEC CoreELEC Програмний код # LibreELEC CoreELEC Відмінності від оригінальних версій # SSH (логін/пароль) за замовчуванням: root/mcpc З налаштувань «LibreELEC/CoreELEC» видалено функцію автоматичного оновлення системи. В систему інтегровано файловий менеджер «Midnight Commander» та утиліту «htop». Додано сервіс «hid-remote» для налаштування HID-пультів дистанційного керування. Додано пакети (залежності) для роботи «TVLINK IPTV server». «TVLINK IPTV server» можна завантажити, активувати або відключити в налаштуваннях системи. «PVR TVLINK Client» інтегровано в систему. Для «Kodi»:\nДодано PVR-API для «PVR TVLINK Client». Оптимізовано швидкість перемикання каналів. Додано можливість автоматичної зміни параметрів аудіо- та відеопотоків, що необхідно для «TVLINK», коли він змінює потік для того самого каналу. Додано репозиторій «AlexELEC Common Add-ons», з якого можна встановити доповнення: «TVLINK Simple Control», «Keyboard Layout» та інші. LibreELEC\nВ цю систему (в CoreELEC ця можливість є за замовчуванням) додано можливість встановлювати пакети з репозиторію «Entware».\nCoreELEC\nФайл конфігурації пульта дистанційного керування (remote.conf) може знаходитися в каталозі «/storage/.config/amremote» або «/storage/.config». Останній має пріоритет.\n"},{"id":1,"href":"/uk/docs/tvlink/docs/overview/","title":"Огляд","section":"TVLINK","content":" Загальна інформація # «TVLINK сервер» — це ретранслятор та агрегатор IPTV-каналів зі зручним веб-інтерфейсом. Він ретранслює потоки, вказані користувачем, з таких джерел, як IPTV-плейлисти, Acestream, Ministra/Stalker Middleware або доповнення.\nГоловна мета програми — забезпечити безперебійну роботу IPTV-каналів. Ви можете в автоматичному або ручному режимі об’єднувати потоки одного каналу з різних джерел, а «TVLINK», залежно від пріоритету джерела та його працездатності, буде вибирати й ретранслювати найкращий потік.\nЯкщо з будь-якої причини трансляція попереднього потоку зупиниться, програма автоматично переключиться на наступний потік цього ж каналу. Такий цикл повторюватиметься, доки хоча б один потік із набору буде працювати.\nПрограма підтримує IPTV-архіви (catchup) з можливістю перемикання на наступний потік, навіть якщо типи архівів у цих потоках відрізняються. Для роботи цієї функції підходить будь-який IPTV-програвач із підтримкою типу архіву «Shift». Навіть якщо в такому плеєрі відсутня підтримка інших типів архіву (Append, Flussonic), він все одно буде їх відтворювати завдяки внутрішньому перетворенню типів архівів у «TVLINK».\nТакож програма надає:\nзручне налаштування та видача EPG (програми передач у форматі XMLTV) вбудований API для самостійного написання доповнень необмежена кількість користувачів та джерел IPTV (залежить лише від апаратного забезпечення) можливість (за допомогою профілів) надавати різні набори каналів різним користувачам редагувати (змінювати назву, вимикати, видаляти) канали, групи (поодинці або групами) сортувати, встановлювати номери для каналів та груп, встановлювати іконки для каналів можливість автоматично (за розкладом) оновлювати джерела каналів та EPG захист за допомогою «токенів» ваших каналів від стороннього доступу статус роботи потоків та журнал роботи програми у веб-інтерфейсі В програмі використовуються Python-модуль «Streamlink». Це, в свою чергу, дає можливість використовувати велику кількість доповнень самого «Streamlink» (ті що не потребують підтримки субмодуля «webbrowser»). Наприклад, дивитися Live-трансляції ТВ-каналів з YouTube та багато інших джерел.\n«TVLINK» може використовуватись з будь-яким IPTV програвачем, але для того щоб отримати всі переваги сервера, необхідно використовувати «PVR TVLINK Client» для «Kodi».\nОбмеження роботи програми. Програма не працює на території Росії та Білорусі. Але, якщо Ви не підтримуєте російську агресію в Україні, створіть файл «Glory_to_Ukraine» в основному каталозі «TVLINK», наприклад:\ntouch /opt/tvlink/Glory_to_Ukraine Таким чином буде вимкнена перевірка геолокації при старті програми.\nРелізи «TVLINK» компілюються тільки для «Linux». Підтримуються архітектури:\nx86-64 arm7 aarch64 Програма не потребує багато ресурсів. Наприклад, при обслуговуванні двох клієнтів у середньому займає 70 МБ оперативної пам’яті.\n"},{"id":2,"href":"/uk/docs/tvlink/docs/install/","title":"Встановлення програми","section":"TVLINK","content":" Встановлення # Релізи «TVLINK» компілюються тільки для «Linux».\nПрограма використовує Python-модулі «Streamlink», тому в системі повинні бути встановлені:\nPython відповідної версії. Потрібна версія «Python» вказана в назві релізу. «Runtime» залежності для «Streamlink», які ви можете бачити тут. Сам «Streamlink» встановлювати не потрібно і не бажано. Це викличне конфлікти в роботі програми. Модулі «Streamlink» є частиною «TVLINK».\nLibreELEC/CoreELEC LibreELEC/CoreELEC # Маються на увазі модифіковані системи (ae-fork), в яких вже є всі необхідні залежності. Робота програми в оригінальних ELEC-системах неможлива.\nУ налаштуваннях системи («LibreELEC/CoreELEC» -\u0026gt; «TV services» -\u0026gt; «TVLINK server») натисніть «Enable TVLINK». Програма буде встановлена та запущена автоматично.\nUbuntu/Debian/Armbian Ubuntu/Debian/Armbian # Пам’ятайте, що в системі має бути встановлена відповідна версія «Python». Версія «Python» вказана в назві файлу. Наприклад: TVLINK-4.2.4-x86_64-python_3.12-Ubuntu.deb.\nДля систем з архітектурою x86-64 ви можете завантажити та встановити «TVLINK» за допомогою deb-пакета. Завантажте потрібний файл і введіть команди в терміналі:\napt install ./TVLINK-4.2.4-x86_64-python_3.12-Ubuntu.deb systemctl start tvlink systemctl enable tvlink Armbian (aarch64) # Також ви можете встановити «TVLINK» з архіву.\nНа прикладі «Armbian Minimal/IOT Distro: Debian 12 (Bookworm)» для Amlogic S912.\nУ «TVLINK» використовується утиліта «ping». Встановимо її, а також деякі утиліти, які нам знадобляться.\napt install -y mc tar bzip2 wget iputils-ping Встановимо залежності для «Streamlink» (python3-streamlink). Це можна зробити однією командою:\napt install -y $(apt-cache depends python3-streamlink | grep Depends | sed \u0026quot;s/.*ends:\\ //; s/\u0026lt;.*\u0026gt;//\u0026quot; | tr '\\n' ' ') Тут команда «apt-cache depends python3-streamlink» виводить інформацію про залежності модулів «Streamlink», а «grep, sed, tr» роблять з неї список, який передається команді «apt install».\nЗавантажимо та встановимо «TVLINK».\nmkdir -p /opt/tvlink cd /opt wget https://github.com/AlexELEC/TVLINK-Releases/releases/download/4.2.4/TVLINK-4.2.4-aarch64-python_3.11.tar.bz2 -O TVLINK.tar.bz2 tar -jxf TVLINK.tar.bz2 --directory /opt/tvlink rm -f TVLINK.tar.bz2 Запустимо «TVLINK», щоб перевірити:\nroot@armbian:/# /opt/tvlink/tvlink — Starting TVLINK (version: 4.2.4) on 127.0.0.1:2020 / 192.168.1.33:2020 — Рекомендується зайти у веб-інтерфейс (наприклад: http://192.168.1.33:2020), додати канали та перевірити їхню роботу. Помилки, пов’язані із залежностями, ви можете бачити лише в терміналі; до журналу роботи «TVLINK» вони не записуються.\nЯкщо все гаразд, завершіть роботу «TVLINK» (Ctrl+C) та додайте його до автозапуску системи.\nwget https://github.com/AlexELEC/TVLINK-Releases/raw/refs/heads/main/scripts/Ubuntu/tvlink.service -O /etc/systemd/system/tvlink.service systemctl enable tvlink systemctl start tvlink OpenWRT (х86-64) OpenWRT (х86-64) # Простий спосіб встановлення системи OpenWRT для архітектури х86-64 описано тут.\nВерсія «OpenWRT», для якої скомпільована програма, вказана в описі релізу.\nОновімо репозиторії пакетів та встановимо залежності для модуля «Streamlink», що входить до складу «TVLINK». Послідовно введімо команди в терміналі:\nopkg update opkg install python3 python3-certifi python3-chardet python3-cryptodome python3-pip python3-requests python3-six python3-lxml tar wget python -m pip install --upgrade pip pip install pycountry isodate pysocks Завантажуємо та встановлюємо сам «TVLINK».\nwget https://github.com/AlexELEC/TVLINK-Releases/releases/download/4.2.4/TVLINK-4.2.4-x86_64-python_3.11-Openwrt.tar.bz2 -O TVLINK.tar.bz2 mkdir -p /opt/tvlink tar -jxf TVLINK.tar.bz2 -C /opt/tvlink rm -f TVLINK.tar.bz2 Перевіряємо, чи працює програма.\n/opt/tvlink/tvlink — Starting TVLINK (version: 4.2.4) on 127.0.0.1:2020 / 192.168.1.1:2020 — Рекомендується зайти у веб-інтерфейс (наприклад: http://192.168.1.1:2020), додати канали та перевірити їхню роботу. Помилки, пов’язані із залежностями, ви можете бачити лише в терміналі; до журналу роботи «TVLINK» вони не записуються.\nЯкщо «TVLINK» працює без помилок, закрийте його (Ctrl+C). Завантажте та додайте сервіс до автозавантаження.\ncd /etc/init.d wget https://github.com/AlexELEC/TVLINK-Releases/raw/refs/heads/main/scripts/Openwrt/tvlink -O /etc/init.d/tvlink \u0026amp;\u0026amp; chmod +x /etc/init.d/tvlink service tvlink enable service tvlink start Оновлення програми # Як оновити програму, читайте тут.\n"},{"id":3,"href":"/uk/docs/tvlink/docs/quick-start/","title":"Швидкий старт","section":"TVLINK","content":" Швидкий старт # Мається на увазі, що всі налаштування встановлені за замовчуванням.\nПісля встановлення та запуску програми введіть у вашому браузері адресу: «http://ip-address:2020». Де «ip-address» — це адреса комп’ютера, на якому встановлено «TVLINK».\nАктивуйте «Playlists sources» і натисніть кнопку «Add playlist».\nУ формі «Add new playlist» вкажіть назву плейліста (Playlist name) та URL-адресу або шлях до файлу (Playlist path) цього плейліста.\nназва плейлиста повинна бути латинськими літерами, без спеціальних символів і не повинна починатися з цифри шлях до файлу потрібно починати з «file://», наприклад: file:///Data/Media/playlist.m3u Після підтвердження (Save changes) активуйте перемикач «Add channels» цього джерела каналів і натисніть іконку «Update».\nВ результаті цих дій усі канали з вашого плейлиста будуть додані до «TVLINK», а саме на сторінку «Channels» (так званий «mapping» каналів). Цього вже буде достатньо, щоб почати перегляд каналів.\nНа сторінці «About» ви можете завантажити плейлист (M3U Playlist) і відкрити його в будь-якому IPTV-плеєрі, наприклад VLC. Або на сторінці «Channels», у колонці «ID», ви можете натиснути синій трикутник (Play) і переглядати канал безпосередньо у веб-інтерфейсі.\n"},{"id":4,"href":"/uk/docs/tvlink/docs/sources/","title":"Налаштування джерел каналів","section":"TVLINK","content":" Налаштування джерел каналів # На сторінці «Sources» ви маєте можливість зробити такі налаштування:\nплейлисти (Playlists sources) доповнення (Addon sources) портали Stаlker/Ministra (Portal sources) джерела для Acestream (AceStream sources) створення логотипів каналів (Channel picons) розклад передач каналів (XMLTV EPG sources) профілі користувачів (User Profiles) Джерела плейлистів # Активуйте перемикач «Playlists sources». Натисніть кнопку «Add playlist».\nУ вікні «Add new playlist»:\nВведіть назву плейлиста. Вона має бути латинськими літерами, без спеціальних символів (пробілів, тире та інше) та не може починатися з цифри. Введіть url-адресу плейлиста. Якщо файл плейлиста збережений на локальному комп’ютері, формат адреси повинен бути таким: «file:///path_to/your_playlist_file» (наприклад, file:///Data/list/playlist.m3u). Натисніть кнопку «Save changes».\nДжерела доповнень # Натисніть кнопку «Add addon». У вікні «Add new addon» натисніть (для деяких браузерів потрібне подвійне натискання) на поле «Addon name». З’явиться перелік готових доповнень, що вже присутні у репозиторію. Виберіть той, що вам потрібен, і натисніть «Save changes».\nВи також можете створити власне доповнення. Інструкцію щодо цього дивіться тут.\nДжерела Ministra/Stаlker Middleware # Натисніть кнопку «Add portal». У вікні «Add new Portal (Stаlker Middleware)» введіть наступні дані:\nНазву порталу (Portal name). Вона має бути латинськими літерами, без спеціальних символів (пробілів, тире тощо) та не може починатися з цифри. Url-адресу порталу (Portal url). MAC-адресу для доступу до порталу (User MAC). Необов’язковий перемикач «Use HLS streams» дозволяє отримувати HLS-потоки, якщо це підтримується Порталом. На етапі створення порталу рекомендується не вмикати цей параметр, якщо немає впевненості у підтримці HLS-потоків.\nПісля того як ви натиснете кнопку «Save changes», у каталозі «tvlink/scrapers» буде створено файл з іменем вашого порталу. Наприклад, «tvlink/scrapers/Portal.py». Цей файл містить три змінні, які ви можете редагувати (це необов’язково):\nINCLUDE_GROUP – це список груп каналів для отримання. Усі інші групи будуть ігноруватися (не потраплять до списку). Зауважте, що перевіряється точний збіг з урахуванням регістру символів.\nEXCLUDE_NAME – це список, в якому можна задати символи, що будуть виключені з назви каналу. Наприклад, якщо назва каналу «US Discovery HD», а ви хочете мати «Discovery HD», зробіть EXCLUDE_NAME = [\u0026lsquo;US \u0026lsquo;]. Зауважте, у цьому прикладі є пробіл в кінці \u0026lsquo;US \u0026lsquo;.\nDEFAULT_LOGO – це URL-адреса іконки, яка буде застосована для каналів, де іконка відсутня, або якщо в налаштуваннях джерела ввімкнено опцію «Disable load icons».\nПісля редагування цих змінних потрібно натиснути «Apply Settings» на сторінці «Settings», або перезавантажити програму.\nПісля створення Порталу ви можете змінювати опції «Portal url», «User MAC», «Use HLS streams», «Disable load icons» та «Repeat source streams» без перезавантаження налаштувань. Однак потрібно оновити джерело (натиснути на іконку «Update»).\n«Disable load icons» — вимикає отримання іконок каналів з порталу. На деяких порталах можуть бути прописані недійсні адреси іконок. Це призводить до затримки (залежить від вашого браузера) відображення списків каналів у веб-інтерфейсі програми.\n«Repeat source streams» — дозволяє встановити кількість повторів програвання потоку під час збоїв. Ця опція не має відношення до Streamlink-опції «Stream retry count». Значення «always» — повтори не обмежені, «0» — функція відключена (за замовчуванням), інші значення — кількість повторів.\nЯкщо ваш канал має лише один потік і цей потік хоч якось працює, «TVLINK» нескінченно намагатиметься перезапустити цей потік. Функція «Repeat source streams» робить те саме для джерела (потоку цього джерела) каналу, де більше ніж один потік. Таким чином, переключення на наступний потік цього каналу відбудеться за умови: або потік зовсім перестав працювати, або за вибраною вами кількістю повторів. Якщо вибрано «always» — то тільки якщо потік перестав хоч щось віддавати.\nДжерела AceStream # Натисніть кнопку «Add Acestream». У вікні «Add new AceStream source» введіть:\nНазву джерела (Source name). Вона має бути латинськими літерами, без спеціальних символів (пробілів, тире та інше) та не може починатися з цифри.\nURL-адресу сервера «AceStream» у форматі http://ip-address:port (наприклад: «http://192.168.1.1:6878»).\nНеобов’язковий перемикач «Use HLS streams» дозволяє отримувати HLS-потоки. Не рекомендується вмикати, якщо сервер «AceStream» працює у вашій локальній мережі, оскільки це значно збільшить час перемикання каналів.\nПісля того як ви натиснете кнопку «Save changes», ви можете в налаштуваннях джерела ввести групу/групи каналів, які ви хочете отримати, в поле «Channel Categories (comma-delimited)». За замовчуванням це поле порожнє, і це означає, що будуть завантажені всі канали всіх груп (їх близько 3000). Назви офіційних груп ви знайдете тут. Користувачі, які запускають трансляції, можуть створювати свої назви груп або зовсім ігнорувати створення групи. Тому якщо вам потрібні всі канали, які є в базі «AceStream», то залиште поле «Channel Categories (comma-delimited)» пустим.\nБаза каналів завантажується напряму з «AceStream Server-side Search API» і не залежить від інших ресурсів (наприклад: pomoyka.i2p).\nТаблиця Джерела # Після того як буде створено джерело каналів, ви побачите таку таблицю:\n«Name» — ім’я джерела, налаштування та видалення цього джерела. Коли джерело активне й оновлене, його назва стає посиланням на редагування («співставлення») каналів для цього джерела. Іконка налаштувань відображається синім кольором, якщо джерело має налаштування потоків «за замовчуванням», і зеленим кольором, якщо користувач змінив параметри. «Catchup» — вибір архіву. Підтримуються типи: «Append», «Shift» та «Flussonic». «Enable» — вмикання або вимикання джерела. «Prio» — пріоритет джерела. Чим менше значення, тим вищий пріоритет. «Limit» — обмежує доступ клієнтів до джерела. Значення — це максимальна кількість клієнтів, які можуть дивитися одночасно з цього джерела. «Add channels» — якщо цей перемикач увімкнений, і ви оновите джерело, усі канали джерела будуть автоматично додані до списку каналів «TVLINK» («зіставлення каналів»). Це працює лише при ручному (примусовому) оновленні каналів, але при автоматичному оновленні ця опція ігнорується. «New channels» — якщо цей перемикач увімкнений, при оновленні джерела до списку каналів «TVLINK» додаватимуться нові канали, якщо вони з’являться в цьому джерелі. «Update period» — час (у годинах), через який джерело буде автоматично оновлюватися. Нуль означає, що оновлення вимкнено. «Update» — негайне оновлення джерела, а також час останнього оновлення. «Links» — кількість посилань на потоки (канали), які містить це джерело. Додавання каналів до списку # Є два варіанти, як ви можете додати канали з джерела до списку каналів «TVLINK» (зіставлення каналів):\nУвімкнути перемикач «Add channels» та натиснути «Update». В цьому разі всі канали джерела будуть автоматично додані до списку каналів «TVLINK». Оновити джерело, натиснувши «Update». Після цього назва джерела стає посиланням на сторінку, де ви можете додавати канали в ручному режимі. Перемикач «Map» додає канал до списку каналів «TVLINK», при додаванні каналів створюється група, до якої належить канал, і переноситься його іконка.\nАвтоматичне об\u0026rsquo;єднання каналів # «TVLINK» автоматично об’єднує канали з однаковими назвами. Тому кількість каналів джерела («Links») не завжди відповідає кількості каналів у списку «TVLINK». При об’єднанні регістр символів та пробіли у назві каналу ігноруються. Наприклад, усі канали з такими іменами будуть вважатися одним і тим самим каналом:\nChannel 25 CHANNEL 25 ChaNNel25 Якщо у джерела присутні групи каналів, їх також буде експортовано. Якщо груп немає, усім каналам джерела буде присвоєно групу з назвою самого джерела.\nАрхіви каналів (Catchup) # Якщо ваш IPTV-провайдер надає таку функцію, виберіть один із типів архіву:\nAppend Flussonic Shift none – означає, що функцію вимкнено. Який саме у вас тип архіву, ви можете дізнатися у свого IPTV-провайдера.\n«TVLINK» підтримує автоматичне перемикання архівних потоків під час збою, незалежно від типів архіву. Це означає, що при проблемі з архівним потоком із джерела, де стоїть тип «Shift», станеться переключення на архівний потік із джерела з «Flussonic». Порядок перемикання залежить від пріоритету джерел. Тобто така сама функціональність, що й зі звичайними потоками.\nЯкщо ви використовуєте сторонній IPTV-плеєр (не PVR TVLINK Client), в його налаштуваннях потрібно встановити тип архіву «Shift». Тобто сам «TVLINK», незалежно від того, який тип архіву в джерела, буде видавати архіви у форматі «Shift».\nПріоритет джерела (Prio) # Якщо обидва джерела містять один і той же канал, то першим буде використано потік із джерела з вищим пріоритетом (нижчою цифрою). Якщо цей потік не працює або припинив трансляцію під час роботи, «TVLINK» переключиться на наступне джерело з нижчим пріоритетом і так далі по колу.\nОбмеження з’єднань з джерелом (Limit) # Якщо джерело має обмеження на кількість підключень до потоків, встановіть потрібне значення. Це потрібно для того, щоб ваш IPTV-провайдер не заблокував вам доступ. «TVLINK» буде автоматично перемикати на наступний потік, якщо ліміт буде перевищено.\n«TVLINK» перемикає канали в асинхронному режимі; це означає, що програма не чекає на закриття попереднього потоку перед тим, як відкрити наступний. В іншому випадку канали б перемикалися дуже повільно. Ідентифікація клієнтів відбувається за їхніми IP-адресами. Ці два факти накладають деякі обмеження на роботу опції «Limit». А саме: для клієнтів, які мають одну й ту саму IP-адресу, «TVLINK» автоматично збільшує ліміт підключень. В журналі роботи програми ви побачите наступний запис:\nIncrease MaxStream count [1+1 HD] from [MySouce]: set max stream [2] - limit [1] Це означає, що для джерела «MySouce» встановлено ліміт на одне підключення. Але оскільки при перемиканні каналу попередній потік ще не закрився, «TVLINK» автоматично збільшив ліміт (на одиницю). Якщо б цього не сталося, джерело «MySouce» не було б доступне в цей момент.\nТакож, якщо два клієнти мають однакову IP-адресу (на одному й тому ж комп\u0026rsquo;ютері запущено два IPTV-програвачі) та роблять запит до одного джерела, ліміт цього джерела теж буде збільшено на одиницю. Адже «TVLINK» не має можливості визначити, чи це запит на перемикання каналу одного й того самого клієнта, чи це запит від іншого клієнта, оскільки IP-адреси у них однакові.\nНижня частина сторінки «Sources» # «Update all sources» — натисніть, якщо вам потрібно оновити всі джерела каналів разом. Якщо в налаштуваннях сервера (Settings) ввімкнена опція «Create static playlist», також буде створено статичний плейлист. «Create static playlist» — якщо в налаштуваннях (сторінка Settings) у вас увімкнена опція «Create static playlist», то внизу, на сторінці джерел (Sources), з’явиться посилання «Create static playlist». Це дозволяє оновити статичний плейлист, не оновлюючи всі джерела. "},{"id":5,"href":"/uk/docs/tvlink/docs/epg/","title":"Розклад телевізійних передач (EPG)","section":"TVLINK","content":" Розклад передач (EPG) # Налаштування EPG необхідно проводити після того, як ви додали канали в «TVLINK» (channel mapping).\nВи можете використовувати джерела EPG, які вже присутні в програмі (EPG Static sources), або створити свої (EPG Custom sources). Активуйте потрібний перемикач.\nДля створення власного джерела натисніть кнопку «Add EPG» і заповніть форму «Add new EPG».\n«EPG name» — будь-яка назва на ваш вибір. Вона має бути латинськими літерами, без спеціальних символів (пробілів, тире та інше) та не може починатися з цифри. «EPG url» — адреса XMLTV-файлу. Може бути заархівованим (.tar.gz) або не заархівованим (.xmltv). Натисніть «Save changes», щоб зберегти налаштування.\nОпції # «Name» — ім’я джерела та посилання (коли джерело активне й оновлене) на редагування (співставлення) каналів цього джерела. «Enable» — увімкнення/вимкнення джерела. «Prio» — пріоритет. Якщо активно кілька джерел, «TVLINK» шукатиме відповідності між каналом і програмою в порядку пріоритету джерел. Те, чого не знайде в першому джерелі, шукатиме в другому і так далі. «File date» — якщо джерело XMLTV надає таку інформацію, тут буде вказана дата створення XMLTV-файлу джерела. Якщо така інформація не надається, тут буде вказана дата останнього завантаження файлу. «Update» — інформація про останнє зіставлення каналів і створення програми, а також кнопка «Оновити». Її дії обмежуються завантаженням та автоматичним зіставленням назв каналів із програмою. Це потрібно, щоб ви могли вручну зіставити ті канали, які «TVLINK» не зміг зіставити автоматично, або змінити автоматичне зіставлення, якщо це потрібно. «Channels» — загальна кількість назв каналів у джерелі. Це лише інформація, оскільки не всі канали, вказані в джерелі, можуть містити програму. Кнопки # «Create EPG» — створює програму. XMLTV-файл буде доступний за адресою: «http://ip-address:port/xmltv» «Clean manual EPG mapping» — очищає всі зіставлення, які ви зробили вручну. Після того, як ви натиснули кнопку в колонці «Update», можна перейти за посиланням з колонки «Name» і зіставити канали, які не зміг зіставити «TVLINK», або змінити зіставлення каналів, які вас не влаштовують.\n«Auto EPG mapping» — в цій колонці відображаються назви каналів з XMLTV-джерела, які «TVLINK» зіставив автоматично. «Manual EPG mapping» — тут можна зіставити канали вручну. Відсортувавши таблицю по колонці «Auto EPG mapping», ми отримаємо вгорі списку всі канали, які автоматично не були зіставлені (для зручності).\nОскільки випадаючий список колонки «Manual EPG mapping» містить всі назви каналів з EPG-джерела, знайти потрібну досить важко. Щоб спростити завдання, потрібно ввести перші літери з назви каналу й список переміститься у потрібну позицію.\nПісля налаштування поверніться на сторінку «Sources» і натисніть кнопку «Create EPG».\nУ джерелах «EPG Static sources» ви маєте можливість змінити URL-адресу, якщо це необхідно. Для цього натисніть іконку «Edit» біля назви джерела.\nПеріодичність оновлення джерел EPG задається на сторінці «Settings» у підрозділі «EPG settings».\n"},{"id":6,"href":"/uk/docs/tvlink/docs/profiles/","title":"Профілі користувачів","section":"TVLINK","content":" Профілі користувачів # Налаштування профілів потрібно проводити після того, як ви додали канали до «TVLINK» (channel mapping).\nПрофілі дають змогу мати різні набори каналів і груп для різних клієнтів. Канали та групи в профілях беруться з основного набору каналів на сторінці «Channels» (головний профіль), тому спочатку потрібно додати до «Channels» усі канали, які можуть вам знадобитися в профілях.\nТакож під час створення профілю ви можете встановити IP-адресу для потоків і плейлистів цього профілю та маркер автентифікації (токен), якщо це необхідно.\nНатисніть кнопку «Add user» у розділі «User Profiles» і заповніть форму «Add user profile».\n«User» — ім’я клієнта. Воно має складатися з латинських літер, не містити спеціальних символів (пробілів, тире тощо) та не може починатися з цифри. «Playlist IP» — адреса, яка використовуватиметься для плейлистів і потоків цього профілю. «Token for playlist/streams» — токен, який використовуватиметься для плейлистів і потоків цього профілю, якщо активовано опцію «Authentication Token». Якщо це поле залишити порожнім, токен буде створено автоматично. «Comment» — будь-який коментар. Окрім поля «User», усі інші поля заповнювати необов’язково.\nПісля підтвердження змін («Save changes»), ім’я профілю («User») стає посиланням. Перехід за цим посиланням відкриває налаштування груп і каналів профілю.\nВи можете вимикати групи та окремі канали, які не повинні бути в цьому профілі, або вмикати потрібні.\nІконка «Налаштування» біля імені профілю дає змогу змінити всі опції (IP-адресу плейлиста, токен, коментар).\nПісля будь-яких змін у налаштуваннях «токенів» потрібно застосувати налаштування («Apply Settings» унизу сторінки) або перезавантажити програму.\nЯкщо у вас увімкнена опція «Create static playlist», то при будь-яких змінах у налаштуваннях «токенів» або IP-адреси плейлиста не забувайте оновити статичні плейлисти (натисніть «Create static playlist» на сторінці «Sources»).\nІконка «Видалення» видаляє профіль.\nУ колонці «Playlist URL» відображаються посилання на плейлист профілю у форматі:\nhttp://\u0026lt;ip-address\u0026gt;:\u0026lt;port\u0026gt;/\u0026lt;token\u0026gt;/playlist/\u0026lt;user\u0026gt; token – якщо активовано «Authentication Token» user – ім’я профілю Для «PVR TVLINK Client» ім’я профілю та токен достатньо вказати в налаштуваннях.\n"},{"id":7,"href":"/uk/docs/tvlink/docs/channels/","title":"Канали","section":"TVLINK","content":" Канали # Ця інформація стосується налаштувань на сторінці «Channels».\nСписки каналів на всіх сторінках інтерфейсу відображаються порціями по 200 каналів на сторінку (знизу є кнопки для перегортання сторінок). При видаленні або зв’язуванні каналів самі сторінки не оновлюються, лише видаляються елементи. Це зроблено для прискорення роботи, щоб не чекати оновлення сторінки після кожної дії. Однак це може спричинити певну плутанину. Наприклад, якщо у вас список складається з 300 каналів: 200 каналів на одній сторінці та 100 на іншій, то після видалення 10 каналів з першої сторінки при переході на другу ви побачите вже 90 каналів. При оновленні сторінки список зчитується заново, і на першій сторінці знову буде 200 каналів, а на другій – решта.\nПеред тим як виконувати налаштування на цій сторінці, зачекайте її повного завантаження. Посилання на логотипи каналів з деяких джерел можуть не працювати, що збільшує час завантаження сторінки браузером. До повного завантаження ваші зміни не будуть застосовані.\nПросто пам’ятайте про це під час редагування.\nЛоготипи каналів # Щоб встановити або змінити логотип каналу, натисніть на іконку у стовпці «Logo». У формі, що з’явиться, ви можете вказати URL-адресу потрібного зображення та натиснути «Save changes». Бажано використовувати зображення у форматі «png», але допускаються й інші формати (jpg, gif, bmp).\nЯкщо ви скопіювали власні логотипи каналів до папки «tvlink/logos», то, натиснувши кнопку «Local logos», ви зможете зіставити логотип каналу.\nНайвищий пріоритет мають іконки, розташовані в каталозі «tvlink/logos» та які мають формат «ID-каналу.png» (наприклад: 7B7ADBFF.png). «ID-каналу» ви можете побачити у стовпці «ID». Якщо такої іконки немає, «TVLINK» використовує іконку, яку ви зазначили раніше.\nЯкщо канал не має іконки, її буде автоматично додано під час примусового оновлення будь-якого джерела з увімкненою опцією «Add channels», за умови, що імена каналів збігаються і джерело має іконку для цього каналу.\nУтиліта «picons» # Дозволяє завантажувати іконки каналів із сайту «epg.one» та автоматично конвертувати імена логотипів у формат, зрозумілий для «TVLINK» (наприклад: 7B7ADBFF.png).\nУтиліта є консольною і запускається в терміналі. Вона розміщена в каталозі «tvlink», тому потрібно вказати повний шлях до неї. Наприклад:\n/storage/.config/tvlink/picons Довідка щодо аргументів:\n/patch_to/tvlink/picons -h Запуск утиліти «picons» без аргументів призводить до завантаження та конвертації прозорих (transparent) іконок.\nТе саме – завантажити й конвертувати іконки – можна зробити і в веб-інтерфейсі «TVLINK» на сторінці «Sources».\nВиберіть потрібні опції та натисніть «Create picons».\nНомери каналів # У стовпці «Num» ви можете вказати номери каналів. Можна вказати номер лише одному каналу або не вказувати його зовсім. У плейлисті каналам все одно буде присвоєно номери (в алфавітному порядку назв каналів). Якщо номер вказано хоча б одному каналу, відлік почнеться з нього. Якщо не вказати номер жодному каналу, відлік почнеться з одиниці.\nНазви каналів # У стовпці «Name» ви можете редагувати назви каналів. Зміни набувають чинності одразу після того, як рядок із назвою каналу втрачає фокус.\nГрупи каналів # У стовпці «Group» ви можете змінювати групу, до якої належить канал. Групи вибираються зі списку.\nЯкщо потрібно змінити групу для кількох каналів одночасно:\nПоставте позначки у полях «Clean» навпроти каналів, групу яких ви хочете змінити. Змініть групу на одному з позначених каналів. Таким чином ви зміните групу для всіх обраних каналів. Натискання на саму назву «Clean» знімає позначки з усіх обраних каналів. Це на той випадок, якщо ви помилилися з вибором.\nПараметри каналів # Іконки у стовпці «Control» (зліва направо):\n«Info» – інформація та керування потоками каналу «Join» – об’єднання каналів та їхніх потоків «Break» – роз’єднання каналів «Delete» – видалення каналів «Info» # Якщо вам потрібно вимкнути або ввімкнути якісь потоки каналу, переведіть перемикач «Enable» у потрібне положення.\nУ цій таблиці потоки (посилання) розташовані в порядку їхнього пріоритету. Тобто, у тій послідовності, в якій «TVLINK» буде їх перемикати, якщо станеться збій попереднього потоку.\n«Join» # «TVLINK» автоматично об’єднує канали з однаковими назвами. Регістр символів та пробіли в назві каналу ігноруються. Також ви можете об’єднувати канали самостійно. Для цього потрібно вибрати канали (у стовпці «Clean»), які ви б хотіли додати, і натиснути «Join» каналу, з яким ви хочете їх об’єднати.\n«Break» # Ця процедура є протилежною до попередньої.\n«Delete» # Видаляє канал зі списку каналів «Channels». При цьому канал знову стає доступним у своєму джерелі.\nID каналів # У цьому стовпці відображається унікальний ідентифікатор каналу та міститься пряме посилання на цей канал. Це посилання можна вставити в плеєр (наприклад, VLC), щоб відтворити канал, або просто записати потік у браузері. Щоб потім програвати записаний канал у плеєрі, додайте файлу розширення «.ts».\nІконка «Play» біля «ID» каналу відкриває простий вебпрогравач. Це для зручності, коли вам потрібно протестувати канал. Вебпрогравач не підтримує перемикання потоків, а також може не відтворювати деякі канали.\n«Delete channels» унизу сторінки видаляє всі канали зі списку каналів «Channels».\n"},{"id":8,"href":"/uk/docs/tvlink/docs/gpoups/","title":"Групи каналів","section":"TVLINK","content":" Групи каналів # Ця інформація стосується налаштувань на сторінці «Groups».\nГрупи # Кнопки:\n«Create new group» – дозволяє створити нову групу. Нова група стає доступною на сторінці «Channels». «Clean all groups» – видаляє всі групи без винятку. Таблиця:\n«Title» – назва групи. Якщо змінити назву групи, зміниться назва групи всіх каналів, які належать до цієї групи (мається на увазі на сторінці «Channels»). Якщо іншій групі дати таку саму назву, ці дві групи об’єднаються в одну. «Enabled» – якщо вимкнути, усі канали цієї групи буде видалено на сторінці «Channels», і при оновленні (чи додаванні нових) джерел канали, які належать до цієї групи, не будуть додаватися до списку каналів «TVLINK». Якщо ввімкнути (після вимкнення) та оновити джерело/джерела, канали цієї групи повернуться в «Channels». «Control» – синя іконка дозволяє задати «Псевдоніми» для групи. Червона іконка видаляє групу. Псевдоніми груп задаються через кому. Регістр символів у псевдонімах не має значення. Можна написати: “Films”, “FILMS” або “FiLmS”. Якщо для групи вказано псевдонім, то при зіставленні каналів (channels mapping) група джерела буде замінена оригінальною у списку каналів «Channels».\nПеревіряється не повний збіг із шаблоном (псевдонімом), а входження слова в шаблон. Наприклад, якщо для групи “Films” задати псевдонім – “Films and series”, до групи “Films” потраплять такі групи (без урахування регістру): “Films and series”, “Series” та, звісно, “Films”.\nВидалити групу ви можете тільки в тому випадку, якщо цій групі не належить жоден канал на сторінці «Channels». Інакше «TVLINK» не дозволить вам це зробити. Ви можете, наприклад, спочатку вимкнути групу, а вже потім видалити її, якщо в групі є канали.\nСортування груп # «Sort groups» унизу сторінки відкриє ці налаштування.\nПорядок сортування задається числом. Чим менше число, тим вище група у списку. На сторінці сортування відображаються всі активні (не вимкнені) групи, до яких додано хоча б один канал, незалежно від того, чи є цей канал на сторінці «Channels» у даний момент. Нумерація каналів (якщо вона є) має пріоритет над сортуванням груп. Щоб подивитися, який вигляд матиме список каналів та груп після їхнього сортування/нумерації, відсортуйте канали за «Group» на сторінці «Channels». Саме такий порядок каналів буде у плейлисті. Саме сортування (за номерами, назвами, групами) на сторінці «Channels» не впливає на плейлист, воно лише для зручності редагування каналів.\n"},{"id":9,"href":"/uk/docs/tvlink/docs/settings/","title":"Налаштування сервера та потоків","section":"TVLINK","content":" Налаштування сервера # Ця інформація стосується налаштувань на сторінці «Settings».\nДля більшості налаштувань на цій сторінці, щоб зміни набули чинності, потрібно перечитати конфігурацію «TVLINK». Для цього є опція «Apply Settings» унизу сторінки. Опції «Refresh sources at playlist» та «Remove broken channels» цього не потребують.\n«Server port» – задає порт, на якому «TVLINK» приймає запити. Порт для потоків буде більший на одиницю: «Server port + 1».\n«Playlist IP» – це адреса, яку «TVLINK» використовуватиме для плейлистів (коли опцію «Auto playlist IP» вимкнено). Адресу можна вибрати зі списку.\n«Auto playlist IP» – якщо цю опцію ввімкнено, «TVLINK» використовуватиме ту IP-адресу в плейлисті, з якої надходить запит від клієнта.\n«Check internet IP» – IP-адреса, за якою «TVLINK» перевіряє підключення до інтернету. За замовчуванням використовується адреса «8.8.8.8». Якщо вам потрібно змінити цю адресу перед запуском програми, створіть файл «check-internet.ip» у каталозі tvlink і впишіть туди потрібну адресу.\n«Check internet max time» – максимальний час, протягом якого «TVLINK» перевіряє підключення до інтернету. Програма не запуститься, доки не матиме доступу до інтернету.\n«Refresh sources at startup» – оновлювати джерела під час запуску програми.\n«Refresh sources at playlist» – оновлювати джерела під час запиту плейлиста.\n«Create static playlist» – створює статичні файли плейлистів (основний та для профілів) у каталозі «tvlink/playlist» і видає їх на запит клієнтів. Це значно пришвидшує роботу, коли ви маєте велику кількість каналів (100 і більше). Статичний плейлист створюється (оновлюється) кожного разу, коли автоматично оновлюються джерела каналів, або коли ви натискаєте на «Update all sources/Create static playlist» на сторінці «Sources». Для токенів (Authentication Token) статичні плейлисти не створюються.\n«Remove broken channels» – «TVLINK» автоматично видалятиме всі канали, які виявилися непрацездатними. Будьте обережні з цією опцією: якщо зникне підключення до інтернету, «TVLINK» почне видаляти кожен канал, який ви будете вмикати.\n«Authentication webUI» – проста автентифікація (логін/пароль) для веб-інтерфейсу. Після активації ви одразу побачите вікно для введення даних. Вам потрібно ввести – «admin/admin». Після цього ви можете вказати свої логін та пароль у полях «Login (webUI)» та «Password (webUI)» відповідно. Якщо в полі «Login (webUI)» ввести порожній рядок або менше ніж три символи, логін буде скинуто до значення за замовчуванням (admin). Це стосується і поля «Password (webUI)»: порожній рядок або менше ніж три символи скинуть пароль на «admin».\nIP-адреси для списку «Playlist IP» беруться із системи. Якщо вам потрібно додати IP-адресу (або доменне ім’я), якої немає в системі (наприклад, якщо «TVLINK» працює за NAT), створіть файл «ip-address.ext» у каталозі «tvlink/data». Кожен рядок файлу повинен містити одну IP-адресу або одне доменне ім’я. Наприклад:\n100.100.100.100 200.200.200.200 my.own.server.com Маркер автентифікації для потоків та плейлистів # Захист від несанкціонованого доступу до потоків та плейлистів.\n«Authentication Token» – вмикає підтримку маркерів автентифікації. «Main Token for playlist/streams» – будь-яка послідовність латинських літер та/або цифр, чутлива до регістру. Після будь-яких змін у налаштуваннях «Токенів» необхідно застосувати налаштування («Apply Settings» внизу сторінки) або перезавантажити програму.\nЯкщо у вас увімкнена опція «Create static playlist», то після будь-яких змін у налаштуваннях «Токенів» не забудьте оновити статичні плейлисти (натисніть «Update all sources» на сторінці «Sources»).\nЯкщо опцію «Authentication Token» активовано, після застосування налаштувань доступ до потоків та плейлистів здійснюватиметься лише через токен. На сторінці «Settings» задається токен для основного плейлиста.\nІнші токени задаються у розділі «Профілі користувачів».\nПеріодичне перезавантаження налаштувань # Ця функція перезавантажує налаштування «TVLINK» через вказані проміжки часу. Ця дія аналогічна натисканню кнопки «Apply Settings» внизу сторінки. Вона не перезавантажує саму програму, а лише повторно ініціює всі налаштування. Однак це сприяє очищенню оперативної пам’яті та закриттю всіх мережевих з’єднань (сокетів). Тому ця функція може бути корисною, коли сервер працює цілодобово.\n«Reload by interval» – перезавантажувати модулі «TVLINK» через інтервал часу (у годинах), вказаний у параметрі «Reload every hours». «Reload once a day» – перезавантажувати один раз на добу у час, визначений параметром «Reload at o’clock». Час, вказаний у цих опціях, є орієнтовним. Наприклад, якщо встановлено «Reload once a day» / «Reload at o’clock» на 4 годині, перезавантаження відбудеться між четвертою та п’ятою годинами.\nОпція «Reload once a day» має вищий пріоритет. Якщо ви ввімкнете обидва параметри, перезавантаження модулів відбуватиметься один раз на добу.\nПерезавантаження відбуваються лише за наступних умов:\nкількість відкритих мережевих з’єднань (сокетів) перевищує 10; програма використовує більше ніж 60 МБ оперативної пам’яті для систем, де обсяг ОЗП менший за 1,5 ГБ, та більше ніж 120 МБ для систем, де обсяг ОЗП перевищує 1,5 ГБ; Щоб уникнути проблем із трансляцією потоків, ці функції спрацьовують лише тоді, коли «TVLINK» не веде мовлення (немає підключених клієнтів). Перезавантаження модулів відбудеться одразу після відключення останнього клієнта.\nЯкщо ввімкнено опцію «Ignore connected clients on Reload», модулі «TVLINK» буде перезавантажено незалежно від наявності підключених клієнтів.\n«Empty channel link» # Дозволяє ввести власне посилання на потік, який відтворюватиметься, якщо жодне з основних посилань на канал не працює.\n«Exclude these lines from channel names when mapping» # Виключення слів із назв каналів. Ви можете виключити будь-які рядки з назви каналу для автоматичного зв’язування. Сама назва каналу при цьому залишається незмінною, проте «TVLINK» під час автоматичного зв’язування відкидатиме вказану вами частину з назви. Роздільником слів, які потрібно виключити з назви, є кома (без пробілів). Наприклад, при таких налаштуваннях усі канали з такими іменами вважатимуться одним і тим самим каналом – «Discovery Science HD».\n«Discovery Science HD» «Discovery Science HD orig» «Discovery Science HD PREMIUM+» Якщо в одному джерелі є канали, як показано вище, то найвищий пріоритет матиме потік (посилання на потік), назва якого найдовша, тобто спочатку «Discovery Science HD PREMIUM+», потім «Discovery Science HD orig» і останнім «Discovery Science HD».\n«M3U playlist settings» # Дозволяє додати потрібні вам елементи після тегів «EXTM3U» та «EXTINF» у плейлісті «TVLINK». Наприклад, це може бути інформація для періодичного оновлення списку каналів: «refresh=\u0026ldquo;3600\u0026rdquo;». За умови, що ваш IPTV програвач це підтримує.\nНалаштування потоків # «Main User-Agent» – задає User-Agent за замовчуванням. У деяких IPTV-провайдерів може бути блокування за User-Agent. Вони надають потік лише якщо запит надходить від визначеної програми. Ви можете вказати «TVLINK», щоб він видавав себе за іншу програму. Наступні налаштування здебільшого стосуються модуля «Streamlink» і відповідають за роботу з потоками.\n«Stream Ring buffer» – задає розмір буфера для потоків (у мегабайтах). Відповідає параметру «ringbuffer-size» в «Streamlink».\n«Chunk size» – задає розмір фрагмента під час читання потоку (у байтах). Чим більший розмір фрагмента, то менше навантаження на процесор. Чим менший розмір фрагмента, тим швидше відкривається потік.\n«Threads job timeout» – час (у секундах), через який буде припинено роботу ланцюжка з читання/запису фрагментів потоку. Частково відповідає параметру «stream-timeout» у «Streamlink».\n«General HTTP timeout Connect/Data» – загальний тайм-аут (у секундах), який використовується для всіх HTTP-запитів, окрім тих, що охоплюються іншими параметрами. Для розуміння: в HLS-потоках це буде тайм-аут для отримання списку сегментів. Окремо встановлюється час (тайм-аут) для підключення та час на отримання даних відповідно. Відповідає параметру «http-timeout» у «Streamlink», окрім того, що дає змогу встановити різні значення для з’єднання та читання даних.\n«HLS segment timeout Connect/Data» – тайм-аут (у секундах), який використовується для HLS-сегментів (а також DASH тощо). Окремо встановлюється час (тайм-аут) для підключення та час на отримання даних відповідно. Відповідає параметру «stream-segment-timeout» у «Streamlink», окрім того, що дає змогу встановити різні значення для з’єднання та читання даних.\n«HLS segment queue threshold» – коефіцієнт множення цільової тривалості списку відтворення HLS, після якого потік буде зупинено достроково, якщо після оновлення списку відтворення до черги не буде додано нових сегментів. Відповідає параметру «hls-segment-queue-threshold» у «Streamlink».\n«Stream retry count» – ця опція встановлює параметри «stream-segment-attempts» та «hls-playlist-reload-attempts» для «Streamlink». Тобто кількість спроб завантаження для сегментів та списку сегментів.\n«Segment threads» – кількість паралельних завантажень сегментів. Це розмір пулу потоків, який використовується для завантаження сегментів. Відповідає параметру «stream-segment-threads» у «Streamlink».\n«Segments Queue» – розмір черги сегментів. У «Streamlink» вона є сталою – 20 сегментів. Але це забагато для Live-потоків. Чим менша черга, тим скоріше закриватимуться потоки, а також буде менше споживання оперативної пам’яті та кількості відкритих сокетів. Краще встановити «as threads», тобто відповідає кількості «Segment threads», але не менше ніж 6 сегментів.\n«HLS live edge» – задає, скільки HLS-сегментів потрібно завантажити під час старту потоку. Відповідає параметру «hls-live-edge» у «Streamlink».\n«HLS playlist reload time» – контролює час, через який виконується запит для оновлення списку сегментів. Частково відповідає параметру «hls-playlist-reload-time» у «Streamlink». Параметр «segment» має таке ж значення, як і в «Streamlink». Значення «duration» відповідає «default» у «Streamlink». Значення «average» – це середній час двох сегментів. Значення «default» – це або одне зі значень, яким відповідають «duration» / «segment», або, якщо їх немає, встановлено час – 6 секунд.\n«HLS Stream Data» – якщо активовано, негайно передає дані із сегмента до вихідного буфера під час завантаження. Канали відкриваються швидко, без попередньої буферизації перед стартом. Якщо вимкнено, дані передаються лише після завантаження першого сегмента. Відповідає параметру «hls-segment-stream-data» у «Streamlink».\n«HLS Live Restart» – якщо активовано, переходити до початку прямої трансляції або якомога далі назад. Відповідає параметру «hls-live-restart» у «Streamlink».\n«Debug Streams» – додає журнал роботи модуля «Streamlink» до журналу роботи «TVLINK». Файл журналу роботи знаходиться в каталозі «tvlink/log».\n«Sources Proxy» та «Streams Proxy» – дозволяють встановити проксі для джерел та потоків. Формат: «http://login:password@your.proxy:port». Значення «login/password» необов’язкові. Підтримуються протоколи: http, https, socks5.\nНалаштування потоків для окремих джерел # Такі налаштування потоків, як:\nThreads job timeout General HTTP timeout HLS segment timeout HLS segment queue threshold Stream retry count HLS live edge HLS Stream Data HLS Live Restart можна встановити окремо для кожного джерела на сторінці «Sources» (іконка біля назви джерела). При цьому не потрібно натискати на «Apply Settings», зміни набувають чинності одразу.\nЦі самі параметри не потребують перезавантаження і на сторінці «Settings».\nКнопка «Default» у формі «Streamer settings» повертає всі окремі налаштування потоків для джерела до основних налаштувань на сторінці «Settings».\nPlaylist URL – дає можливість змінити URL-адресу джерела.\nUser-Agent – дає можливість встановити опцію «User-Agent» для кожного джерела (потоків у цьому джерелі) окремо. Підміняє собою опцію «Main User-Agent».\n«Disable load icons» — вимикає отримання іконок каналів із джерела. На деяких джерелах можуть бути вказані недійсні адреси іконок. Це призводить до затримки (залежить від вашого браузера) відображення списків каналів у веб-інтерфейсі програми.\n«Repeat source streams» — дозволяє встановити кількість повторів програвання потоку під час збоїв. Ця опція не має стосунку до Streamlink-опції «Stream retry count». Значення «always» означає, що повтори не обмежені, «0» — функцію вимкнено (за замовчуванням), інші значення — це кількість повторів.\nЯкщо ваш канал має лише один потік і цей потік хоч якось працює, «TVLINK» нескінченно намагатиметься перезапустити цей потік. Функція «Repeat source streams» робить те саме для джерела (потоку цього джерела) каналу, де більше ніж один потік. Таким чином, переключення на наступний потік цього каналу відбудеться за умови: або потік зовсім перестав працювати, або за вибраною вами кількістю повторів. Якщо вибрано «always» — то тільки якщо потік перестав хоч щось віддавати.\nЗміни в налаштуваннях цих полів відбуваються одразу після втрати фокуса.\nПояснення щодо налаштування роботи потоків # Спочатку визначимо відмінності між тайм-аутами з’єднання та читання даних (Connect timeout і Read Data timeout).\n«Connect timeout» (час очікування підключення) Коли клієнт (у цьому випадку TVLINK є клієнтом по відношенню до сервера, звідки він запитує потоки) ініціалізує з’єднання, він повинен отримати відповідь від сервера (спеціальний код відповіді). Не має значення, якою саме буде відповідь сервера. Це може бути відповідь 200 (підключення встановлено), 302 (переадресація) або будь-яка інша, головне, щоб сервер відповів. Якщо протягом часу, зазначеного в тайм-ауті з’єднання (часі очікування підключення), відповідь від сервера не надійде, клієнт розриває з’єднання.\n«Read Data timeout» (час очікування читання даних) Коли клієнт отримує відповідь 200 (підключення встановлено) від сервера, він починає завантажувати (читати) дані, які передає сервер. Якщо протягом часу, вказаного в тайм-ауті читання даних (часі очікування читання даних), сервер не передасть інформацію, клієнт розриває з’єднання.\nТепер визначимося з форматами потоків.\nНайбільш поширені з них: TS та HLS.\n«TS» По суті, це те саме, якби ви завантажували будь-який файл у браузері. Клієнт робить запит і, якщо отримує відповідь 200, просто послідовно отримує дані. Дані передаються в одному потоці, і якщо виникають проблеми з трафіком, це спричиняє проблеми і з відтворенням відео. Тобто для IPTV через інтернет це не найкраще рішення. Воно більше підходить для локальної мережі.\n«HLS» Це той самий «TS» (спрощено кажучи), але розрізаний на фрагменти (сегменти). Завдяки тому, що ці сегменти є вже записаними файлами (на відміну від TS, які передаються в реальному часі) і їх є кілька, клієнт має можливість одночасно завантажувати декілька сегментів. Це, своєю чергою, допомагає боротися з проблемами трафіку і, відповідно, краще підходить для IPTV через інтернет.\nТепер безпосередньо про параметри «TVLINK».\n«General HTTP timeout Connect/Data» Якщо у вас TS-потік, саме ці тайм-аути будуть застосовуватися. Тайм-аути «HLS segment» не використовуватимуться для таких потоків. Якщо у вас HLS-потік, тайм-аути «General HTTP» працюватимуть під час отримання плейлистів зі списком сегментів або варіантів якості потоків (провайдер може надавати кілька варіантів якості потоків для різних швидкостей з’єднання). Плейлистами ми називаємо текстові файли, які містять посилання на інші плейлисти (наприклад, якщо це список якості потоків) або посилання на відеосегменти.\n«HLS segment timeout Connect/Data» Ці тайм-аути застосовуються безпосередньо до сегментів (відеофайлів). Хоча в назві цього параметра зазначено «HLS», ці тайм-аути також працюють з іншими форматами сегментованих потоків, наприклад, «DASH».\nУ простому випадку (без списку якості потоків) для HLS-потоків це виглядатиме так:\nотримання списку сегментів – «General HTTP timeout» завантаження сегмента 1 – «HLS segment timeout» завантаження сегмента 2 – «HLS segment timeout» завантаження сегмента 3 – «HLS segment timeout» отримання нового списку сегментів – «General HTTP timeout» завантаження сегмента 4 – «HLS segment timeout» завантаження сегмента 5 – «HLS segment timeout» завантаження сегмента 6 – «HLS segment timeout» отримання нового списку сегментів – «General HTTP timeout» і так далі…\n«HLS segment queue threshold» Цей параметр (тайм-аут) також належить до HLS-потоків. Список HLS-сегментів (плейлист) містить змінну, де вказано тривалість відео в сегменті. Ця змінна використовується «TVLINK» для визначення часу, через який потрібно запросити новий файл сегментів. Сервер постійно оновлює цей список одразу після завершення запису нового сегмента. «HLS segment queue threshold» це число, на яке помножується змінна тривалості сегмента. Якщо протягом часу, отриманого в результаті множення, список сегментів на сервері не оновиться, клієнт розірве з’єднання. Наприклад, у списку зазначено, що тривалість сегмента становить 6 секунд. Якщо значення «HLS segment queue threshold» дорівнює трьом, клієнт розірве з’єднання через 18 секунд, якщо на сервері не з’явиться новий сегмент.\n«Threads job timeout» Це тайм-аут внутрішнього циклу «Streamlink», який зчитує дані з вхідного потоку та записує їх у вихідний потік. Якщо протягом зазначеного часу через цикл не проходять дані, він припиняє роботу, що призводить до закриття будь-якого з’єднання.\n«Stream retry count» Це кількість повторних спроб з’єднання у разі спрацьовування тайм-аутів «General HTTP» та «HLS segment».\nFFmpeg transcode stream # Якщо у вашій системі встановлено «FFmpeg», ви маєте можливість увімкнути модуль «FFmpeg transcode stream».\nОпції – це параметри командного рядка FFmpeg. Призначення полів:\n«Before input» – параметри для апаратного транскодування «Video encoder» – параметри відеокодера «Audio encoder» – параметри аудіокодера Щоб було зрозуміло, як саме ці параметри будуть вставлені в командний рядок «FFmpeg», ось приклад (спрощена схема):\n/usr/bin/ffmpeg -err_detect ignore_err -stream_loop -1 [Before input] -i http://channel.stream -c:v [Video encoder] -c:a [Audio encoder] -ignore_unknown -map 0:v -map 0:a -f mpegts За замовчуванням поля «Video encoder» та «Audio encoder» містять параметр “copy”. Тобто якщо ці поля залишаються порожніми, буде встановлено значення “copy” (пропускати потік без перекодування).\nПеред тим як встановлювати значення, переконайтеся, що «FFmpeg» у вашій системі підтримує відповідні параметри. Наприклад, виконайте команду:\nffmpeg -hide_banner -encoders щоб переглянути доступні аудіо- та відеокодери.\nЯкщо процесор у вашій системі (наприклад, Intel Pentium N5000) підтримує апаратне кодування потоків, можна застосувати, наприклад, такі налаштування.\n«Before input»:\n-hwaccel vaapi -hwaccel_output_format vaapi -hwaccel_device /dev/dri/renderD128 «Video encoder»:\nh264_vaapi -r 50 «Audio encoder»:\naac -b:a 96k Після застосування налаштувань («Apply Settings»), на сторінці «About» з’явиться посилання на «M3U FFmpeg Playlist» (формат: http://ip-address:port/ffmpeglist).\nУвімкнення «FFmpeg transcode stream» не впливає на основний модуль трансляції. Вони працюють паралельно. Ви можете одночасно підключати одних клієнтів до звичайного плейлиста (playlist), а інших – до плейлиста «FFmpeg» (ffmpeglist).\nЗа посиланням «http://ip-address:port/ffmpeglist» ви завжди можете отримати плейлист, навіть якщо «FFmpeg transcode stream» вимкнено і в системі немає «FFmpeg». Тому будьте уважні.\nЯкщо увімкнути «Debug Streams» та запустити «TVLINK» з командного рядка, при зупинці потоку буде виведено інформацію від «FFmpeg» (параметри кодування, помилки тощо).\nОновлення EPG # Ці налаштування відповідають за періодичне оновлення «EPG».\n«Auto update EPG» – увімкнути/вимкнути автоматичне періодичне оновлення EPG.\n«Update period EPG» – вибрати зі списку період оновлення в годинах або один раз на добу (вночі).\n"},{"id":10,"href":"/uk/docs/tvlink/docs/status/","title":"Статус роботи та оновлення програми","section":"TVLINK","content":" Статус роботи та оновлення програми # Ця інформація стосується налаштувань на сторінках «Status» та «About».\nСтатус роботи програми # Таблиця у верхній частині сторінки «Status» відображає інформацію про використання програмою ресурсів системи.\nЗа замовчуванням інформація оновлюється кожні 5 секунд. Ви можете вибрати потрібний інтервал зі списку «Refresh page (sec)».\n«TVLINK uptime» – час, що минув з моменту запуску програми (ініціалізації налаштувань). «TVLINK uses memory» – обсяг оперативної пам’яті, яку використовує програма (у мегабайтах). «TVLINK open sockets» – кількість відкритих на цей момент сокетів. «Free system memory» – відсоток вільної оперативної пам’яті в системі. Мається на увазі вся система та її процеси. Якщо зараз відбувається трансляція потоків (до сервера під’єднані клієнти), відображається таблиця «Active streams».\n«Client» – IP-адреса та порт клієнта. «Channel» – канал, що транслюється клієнту. «Source» – джерело, з якого транслюється потік. «Start Time» – час запуску трансляції. «URL» – адреса, з якої «TVLINK» отримує потік. Червона іконка у стовпці «Client» дозволяє перемкнути трансляцію на наступний потік для клієнта.\nЗа посиланням «View program Logs» (унизу сторінки) відкривається сторінка з журналом роботи програми.\nОновлення програми. # На сторінці «About» відображаються версія програми, а також посилання для завантаження плейліста та EPG.\nЯкщо доступна нова версія програми, з’явиться інформація про це та іконка «Update». Натисніть цю іконку й зачекайте, доки програма не оновиться.\nПід час оновлення всі налаштування зберігаються. Про всяк випадок ви можете зберегти ваші налаштування, скопіювавши каталог «tvlink/data», та за потреби відновити його.\n"},{"id":11,"href":"/uk/docs/tvlink/docs/pvr-tvlink-client/","title":"PVR TVLINK клієнт","section":"TVLINK","content":" PVR TVLINK клієнт для Kodi # Як клієнт (IPTV-програвач) для «TVLINK» найкраще підходить «PVR TVLINK Client» для «Kodi». Лише цей клієнт надасть вам усі можливості сервера «TVLINK». Серед них, наприклад, непомітне для користувача перемикання потоків (у разі збоїв трансляції) одного й того самого каналу з різними форматами аудіо та відео. Клієнт підтримує Timeshift (паузу/перемотування), IPTV-архіви та EPG.\nКод клієнта базується на «PVR IPTV Simple», але розроблений так, щоб відповідати всім вимогам «TVLINK». Наприклад, клієнт ніколи не розриватиме з\u0026rsquo;єднання з сервером «TVLINK» самостійно. Це відбудеться лише тоді, коли користувач перемкне канал або зупинить трансляцію каналу.\nДля роботи «PVR TVLINK Client» потрібна модифікована версія «Kodi»; він не працюватиме з оригінальною версією «Kodi».\nНалаштування # «General» # «TVLINK IP-address» – IP-адреса сервера «TVLINK».\n«TVLINK port» – порт сервера «TVLINK».\n«TVLINK profile» – профіль користувача на сервері «TVLINK». Якщо не вказано, використовується основний профіль (main).\n«Auth. Token» – токен авторизації, якщо потрібен.\n«FFmpeg playlist» – увімкніть, якщо ви хочете отримувати трансляції, які оброблятимуться ffmpeg-модулем «TVLINK».\n«Streams» # «TVLINK connection timeout» – тайм-аут з’єднання клієнта з сервером «TVLINK» для отримання списку каналів. Ця опція не впливає на трансляції.\n«Buffering streams» – якщо активовано, клієнт буде додатково буферизувати потоки (засобами Kodi).\n«FFmpegDirect for Timeshift» – вмикає функцію Timeshift через доповнення «Inputstream FFmpeg Direct».\n«FFmpegDirect for Catchup» – вмикає функцію Catchup через доповнення «Inputstream FFmpeg Direct».\nДві останні опції («FFmpegDirect for \u0026hellip;») будуть працювати тільки якщо ви встановите доповнення «Inputstream FFmpeg Direct». В іншому випадку кліент їх буде ігнорувати.\n«Timeshift» працює тільки коли ввімкненна опція «FFmpegDirect for Timeshift». Для роботи IPTV-архівів (Catchup) – «FFmpegDirect for Catchup» не обовязкова.\nДоповнення «Inputstream FFmpeg Direct» не корректно (на данний час) працює на деяких архітектурах, наприклад Intel. Якщо ви активуете «FFmpegDirect for Timeshift» – у вас перестане працювати автоматична зміна потоків в каналі. Доповнення «Inputstream FFmpeg Direct», через яке будуть проходити потоки, не вміє автоматично змінювати параметри потоку.\nВсі інші налаштування такі самі як і в «PVR IPTV Simple» клієнта.\n"},{"id":12,"href":"/uk/docs/tvlink/docs/tvlink-conrol/","title":"TVLINK Simple Control","section":"TVLINK","content":" Доповнення «TVLINK Simple Control» для Kodi # Доповнення можна встановити з репозиторію «AlexELEC Common Add-ons», яке є в системах «LibreELEC/CoreELEC (ae-fork)».\nДозволяє контролювати потоки каналу (вмикати/вимикати) та показує (виділяє жовтим кольором) посилання на потік, який транслюється в цей момент.\nТакож надає можливість:\nпослідовно перемикати потоки каналу; оновлювати джерела каналів «TVLINK»; показувати інформацію про підключених до «TVLINK» клієнтів; показувати інформацію про використання оперативної пам’яті та сокетів. Налаштування # «IP-address TVLINK» – IP-адреса сервера «TVLINK» «Port TVLINK» – порт сервера «TVLINK» Якщо «IP-address TVLINK» не вказано, «TVLINK Simple Control» використовує адресу «127.0.0.1».\nУ модифікованих (ae-fork) ELEC-системах доповнення викликається довгим натисканням кнопки «і» (info) на клавіатурі. Для пультів дистанційного керування в цих системах зроблені такі налаштування файлу «keyboard.xml» у Kodi.\n\u0026lt;FullscreenLiveTV\u0026gt; \u0026lt;keyboard\u0026gt; … \u0026lt;i mod=\u0026quot;longpress\u0026quot;\u0026gt;RunAddon(script.tvlink.conrol)\u0026lt;/i\u0026gt; \u0026lt;/keyboard\u0026gt; \u0026lt;/FullscreenLiveTV\u0026gt; "}]