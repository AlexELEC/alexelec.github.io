[{"id":0,"href":"/docs/tvlink/docs/overview/","title":"Overview","section":"TVLINK","content":" General info # «TVLINK Server» is a repeater and aggregator of IPTV channels with a user-friendly web interface. It retransmits streams specified by the user from sources such as: IPTV playlists, Acestream, Ministra/Stаlker Middleware or add-ons.\nThe main goal of the program is to provide uninterrupted operation of IPTV channels. You can automatically or manually combine streams of the same channel from different sources, and «TVLINK», depending on the priority of the source and its operability, will select and retransmit the best stream.\nIf for some reason the previous stream stops broadcasting, the program will automatically switch to the next stream of that channel. This cycle will continue as long as at least one stream from the set is working.\nThe program supports IPTV archives (catchup) with the ability to switch to the next stream, even if the archive types in these streams differ. Any IPTV player with support for the «Shift» archive type is suitable for this function. Even if such a player does not support other archive types (Append, Flussonic), it will still play them thanks to the internal conversion of archive types in «TVLINK».\nThe program also provides:\nconvenient setup and delivery of EPG (electronic program guide in XMLTV format) built-in API for independently writing add-ons unlimited number of users and IPTV sources (depends only on hardware capabilities) ability (using profiles) to provide different channel sets to different users edit (rename, disable, delete) channels and groups (individually or in groups) sort, set numbers for channels and groups, set icons for channels ability to automatically (on a schedule) update channel sources and EPG protection of your channels from unauthorized access using «tokens» stream status and program operation log in the web interface The program uses the Python module «Streamlink». This, in turn, makes it possible to use a large number of add-ons for «Streamlink» itself (those that do not require the support of the «webbrowser» submodule). For example, watch live broadcasts of TV channels from YouTube and many other sources.\n«TVLINK» can be used with any IPTV player, but to get all the benefits of the server, you should use «PVR TVLINK Client» for Kodi.\nProgram limitations. The program does not work in the territory of Russia and Belarus. However, if you do not support Russian aggression in Ukraine, create a file named «Glory_to_Ukraine» in the main «TVLINK» directory, for example:\ntouch /opt/tvlink/Glory_to_Ukraine This way, you will disable geolocation checking when the program starts.\n«TVLINK» releases are compiled only for «Linux». The following architectures are supported:\nx86-64 arm7 aarch64 The program does not require many resources. For example, when serving two clients, it occupies an average of 70 MB of RAM.\n"},{"id":1,"href":"/docs/tvlink/docs/install/","title":"Installation","section":"TVLINK","content":" Installation # «TVLINK» releases are compiled only for «Linux».\nThe program uses «Streamlink» Python modules, therefore the following must be installed on the system:\nPython. The required Python version is specified in the release description. «Runtime» dependencies for «Streamlink», which you can see here. You do not need to install «Streamlink» itself, and it is not recommended. This will cause conflicts in the program\u0026rsquo;s operation. The «Streamlink» modules are part of «TVLINK».\nLibreELEC/CoreELEC LibreELEC/CoreELEC # This refers to modified systems (ae-fork) in which all the necessary dependencies are already present. Installation is not possible on the original ELEC systems.\nIn the system settings («System» -\u0026gt; «TV Services» -\u0026gt; «TVLINK Server»), click «Enable TVLINK». The program will be automatically installed and launched.\nUbuntu/Debian Ubuntu/Debian # Please remember that you must have the appropriate version of «Python» installed on your system.\nFor these systems, you can download and install «TVLINK» using a deb package. Releases are published here. After you have downloaded the program, enter the following commands in the terminal:\napt install ./tvlink_4.1.4_amd64.deb systemctl start tvlink systemctl enable tvlink Також Ви можете встановити «TVLINK» з архіву. # В «TVLINK» використовуються утиліта «ping», встановимо її, а також деякі утиліти які нам знадобляться.\napt install -y iputils-ping tar wget Встановимо залежності для модуля «python3-streamlink». Це можна зробити однією командою:\napt install -y $(apt-cache depends python3-streamlink | grep Depends | sed \u0026quot;s/.*ends:\\ //; s/\u0026lt;.*\u0026gt;//\u0026quot; | tr '\\n' ' ') Тут команда «apt-cache depends python3-streamlink» виводить інформацію по залежностям модулів «Streamlink» , а «grep, sed, tr» роблять із неї список який передається «apt install».\nЗавантажимо та встановимо «TVLINK» (релізи програми публікуються тут).\nmkdir -p /opt/tvlink cd /opt wget https://github.com/AlexELEC/TVLINK-x86_64/releases/download/3.3.3/TVLINK-3.3.3.tar.bz2 tar -jxf TVLINK-3.3.3.tar.bz2 --directory /opt/tvlink rm -f TVLINK-3.3.3.tar.bz2 Запустимо «TVLINK» щоб перевірити:\nroot@intel:/# /opt/tvlink/tvlink — Starting TVLINK (version: 3.3.3) on 127.0.0.1:2020 / 192.168.1.33:2020 — Рекомендується зайти в веб-інтерфейс (наприклад: http://192.168.1.33:2020), додати канали і перевірити їх роботу. Помилки пов’язані з залежностями ви можете бачити тільки в терміналі, в журнал роботи «TVLINK» вони не записуються.\nЯкщо все гаразд, завершуємо роботу «TVLINK» (Ctrl+C) та додаємо його в автостарт системи:\nwget https://raw.githubusercontent.com/AlexELEC/TVLINK-x86_64/master/tvlink.service -O /etc/systemd/system/tvlink.service systemctl enable tvlink systemctl start tvlink OpenWRT OpenWRT # Простий спосіб встановлення системи OpenWRT для архітектури х86-64 описано тут.\nРелізи для «OpenWRT x86-64» публікуються на цій сторінці.\nВерсія «OpenWRT» для якої скомпільована програма, вказана в описі релізу.\nОновимо репозиторії пакетів та встановимо залежності для модуля «Streamlink», який входить до складу «TVLINK». Послідовно дамо команди в терміналі:\nopkg update opkg install python3 python3-certifi python3-chardet python3-cryptodome python3-pip python3-requests python3-six tar wget python -m pip install --upgrade pip pip install pycountry isodate pysocks Завантажуємо та встановлюємо сам «TVLINK».\nwget https://github.com/AlexELEC/TVLINK-x86_64-OpenWRT/releases/download/4.1.4/TVLINK-4.1.4.tar.bz2 -O TVLINK-4.1.4.tar.bz2 mkdir -p /opt/tvlink tar -jxf TVLINK-4.1.4.tar.bz2 -C /opt/tvlink rm -f TVLINK-4.1.4.tar.bz2 Перевіряємо чи працює програма.\n/opt/tvlink/tvlink Якщо «TVLINK» запустився без помилок, закриваємо його (Ctrl+C). Завантажимо та додамо сервіс в автозавантаження.\ncd /etc/init.d wget https://raw.githubusercontent.com/AlexELEC/NanoPi-R1/ae/tvlink -O tvlink \u0026amp;\u0026amp; chmod +x tvlink service tvlink enable service tvlink start Update # Read how to update the program here.\n"},{"id":2,"href":"/docs/tvlink/docs/quick-start/","title":"Швидкий старт","section":"TVLINK","content":" Швидкий старт # Мається на увазі що всі налаштування встановлені за замовчуванням.\nПісля встановлення та запуску програми, введіть в вашому браузері адресу: «http://ip-address:2020». Де «ip-address», це адреса комп’ютера на якому встановлений «TVLINK».\nАктивуйте «Playlists sources» та натисніть кнопку «Add playlist».\nimg\nВ формі «Add new playlist» вкажіть назву плейлиста (Playlist name) та URL-адресу або шлях до файлу (Playlist path) цього плейлиста.\nназва плейлиста повинна бути латинськими літерами та без спеціальних символів шлях до файлу треба починати з «file://», наприклад: file:///Data/Media/playlist.m3u Після підтвердження «Save changes», активуйте перемикач «Add channels» цього джерела каналів і натисніть іконку «Update».\nimg\nВ результаті цих дій всі канали з вашого плейлиста будуть добавлені в «TVLINK», а саме на сторінку «Channels» (так званий «mapping» каналів). Цього вже буде достатньо щоб почати перегляд каналів.\nimg\nНа сторінці «About» ви можете завантажити плейлист (M3U Playlist) і відкрити його будь-якому IPTV-плеєрі, наприклад VLC.\n"},{"id":3,"href":"/docs/tvlink/docs/srv-config/","title":"Налаштування сервера та потоків","section":"TVLINK","content":" Налаштування сервера. # Дана інформація стосується налаштувань на сторінці «Settings».\nimg\n«Server port» – задає порт на якому «TVLINK» приймає запити. Порт у потоків буде більший на одиницю: “Server port + 1”. «Playlist IP» – це адреса, яку «TVLINK» буде використовувати для плейлистів (коли «Auto playlist IP» вимкнено). Вибирається із списку. «Auto playlist IP» – якщо ввімкнуто, «TVLINK» буде використовувати ту IP-адресу в плейлисті, на яку робить запит клієнт. «Check internet IP» – IP-адреса за якою «TVLINK» перевіряє роботу інтернет. За замовчуванням використовуються адреса «8.8.8.8». Якщо вам потрібно змінити цю адресу перед запуском програми, створіть файл «check-internet.ip» в каталозі «tvlink» и впишіть туди потрібну адресу. «Check internet max time» – максимальний час, протягом якого «TVLINK» перевіряє роботу інтернет. Програма не запуститься поки у неї не буде доступу до інтернет. «Refresh sources at startup» – оновлювати джерела при старті програми. «Refresh sources at playlist» – оновлювати джерела при запиті плейлиста. «Create static playlist» – створює статичні файли плейлистів (основний і для профілів) в каталозі «tvlink/playlist» і видає його при запиті клієнтів. Це набагато пришвидшує роботу, коли ви маєте велику кількість каналів (100 і більше). Статичний плейлист створюється (оновлюється) кожного разу коли автоматично оновлюються джерела каналів, або ви натискаєте на «Update all sources» на сторінці «Sources». Для токенів (Authentication Token) статичні плейлисти не створюється. «Remove broken channels» – «TVLINK» автоматично буде видаляти усі канали, які виявилися непрацездатними. Будьте обережні з цією опцією, якщо зникне підключення до Інтернет, «TVLINK» почне видаляти кожен канал, який Ви будете вмикати. «Authentication webUI» – проста автентифікація (логін/пароль) для веб-інтерфейсу. Після активації ви відразу побачите вікно для введення даних. Вам потрібно ввести – “admin/admin”. Після цього ви можете вказати свої логін/пароль у полях «Login (webUI)» та «Password (webUI)» відповідно. Якщо в полі «Login (webUI)» ввести порожній рядок або менше трьох символів, логін буде скинутий на значення за замовчуванням (admin). Це стосується і поля «Password (webUI)»: порожній рядок або менше трьох символів скинуть пароль на “admin”. IP-адреси для списку «Playlist IP» беруться із системи. Якщо вам потрібно додати IP-адресу (або доменне ім’я) якої немає в системі (наприклад, якщо «TVLINK» працює за NAT), створіть файл «ip-address.ext» в каталозі «tvlink/data». Кожний рядок файлу повинен містити одну IP-адресу або доменне ім’я. Наприклад:\n100.100.100.100 200.200.200.200 my.own.server.com\nМаркер автентифікації для потоків та плейлистів. # img\nЗахист від несанкціонованого доступу до потоків та плейлистів.\n«Authentication Token» – вмикає підтримку маркерів автентифікації. «Main Token for playlist/streams» – будь-яка послідовність латинських літер та/або цифр, чутлива до регістру. Після будь-яких змін в налаштуваннях «Токенів» потрібно застосувати налаштування («Apply Settings» внизу сторінки) або перезавантажити програму.\nЯкщо у Вас ввімкнена опція «Create static playlist» то при будь-яких змінах в налаштуваннях «Токенів», не забувайте оновити статичні плейлисти (натисніть «Update all sources» на сторінці «Sources»).\nЯкщо опцію «Authentication Token» активовано, після застосування налаштувань , доступ до потоків та плейлистів здійснюється лише через токен. На сторінці «Settings» задається токен для основного плейлиста.\nimg\nІнші токени задаються в «Профілях користувачів».\nПеріодичне перезавантаження налаштувань. # img\nЦя функція перезавантажує налаштування «TVLINK» через вказані проміжки часу. Ця дія аналогічна «Apply Settings» внизу сторінки. Вона не перезавантажує саму програму, а тільки заново ініціює всі налаштування. Але, це сприяє очищенню оперативної пам’яті та закриттю всіх сокетів. Тому може бути корисна, коли сервер працює 24/7.\n«Reload by interval» – перезавантажувати модулі «TVLINK» через проміжок часу (у годиннику) вказаний у «Reload every hours». «Reload once a day» – перезавантажувати один раз на добу, у визначений параметром «Reload at o’clock» час. Час вказаний в цих опціях не точний. Наприклад, якщо вказано «Reload once a day» / «Reload at o’clock» – в 4 години, перезавантаження станеться між четвертою та п’ятою годинами.\n«Reload once a day» має вищий пріоритет. Якщо Ви увімкнете обидва параметри, перезавантаження модулів працюватиме один раз на добу.\nПерезавантаження відбуваються тільки якщо:\nкількість відкритих сокетів (з’єднань) перевищує 10 програма використовує більше ніж 60 Мб оперативної пам’яті для систем де RAM менше за 1.5 Гб та більше 120 Мб для систем де RAM перевищує 1.5 Гб. Щоб уникнути проблем із трансляцією потоків, функції спрацюють, якщо в цей момент «TVLINK» не веде мовлення (немає підключених клієнтів). Як тільки вимкнеться останній клієнт відбудеться перезавантаження модулів.\nЯкщо ввімкнена опція «Ignore connected clients on Reload», модулі «TVLINK» буде перезавантажено не зважаючи на те що є підключені кліенти.\n«Empty channel link» – дозволяє вписати своє посилання на потік, який буде відтворюватися якщо жодне з посилань на канал не працює.\nimg\n«Exclude these lines from channel names when mapping» – виключення слів з назв каналів. Ви можете виключити будь-які рядки з назви каналу для автоматичного зв’язування. Сама назва каналу при цьому залишається незмінною, проте «TVLINK» при автоматичному зв’язуванні відкидає вказану вами частину з назви. Розділювачем слів, які потрібно виключити з назви, є кома (без пробілів). Наприклад, при таких налаштуваннях\nвсі канали з такими іменами будуть вважатися одним і тим же каналом – «Discovery Science HD» .\n«Discovery Science HD» «Discovery Science HD orig» «Discovery Science HD PREMIUM+» Для інформації. Якщо в одному джерелі є канали, як показано вище, то найвищий пріоритет буде у потоку (посилання на потік) назва якого найдовша, тобто спочатку «Discovery Science HD PREMIUM+», потім «Discovery Science HD orig» і останній «Discovery Science HD».\n«M3U playlist settings» – дозволяє додати потрібні вам елементи після тегів «EXTM3U» та «EXTINF» в плейлист «TVLINK». Наприклад, це може бути інформація для періодичного оновлення списку каналів: «refresh=”3600″». Якщо ваш IPTV програвач підтримує це.\nНалаштування потоків. # img\n«Main User-Agent» – задає User-Agent за умовчанням. У деяких IPTV-провайдерів може стояти блокування по «user-agent». Вони віддають потік, тільки якщо запит іде від визначеної програми. Ви можете вказати «TVLINK», щоб він видавав себе за іншу програму.\nНаступні налаштування здебільшого відносяться до модуля «Streamlink» і відповідають за роботу з потоками.\n«Stream Ring buffer» – задає розмір буфера для потоків (в мегабайтах). Відповідає параметру «ringbuffer-size» в «Streamlink». «Chunk size» – задає розмір фрагмента під час читання потоку (в байтах). Чим більший розмір фрагмента, то менше навантаження на процесор. Чим менший розмір фрагмента, тим швидше відкривається потік. «Threads job timeout» – час (в секундах) через який буде припинено роботу ланцюжка по читанню/запису фрагментів потоку. Коли це спрацьовує «Streamlink» перестане транслювати потік, але може не закрити з’єднання. Тому рекомендується вибирати значення для цього параметра біле ніж максимальне значення в опціях «General HTTP timeout» та «HLS segment timeout», про які йдеться нижче. Частково відповідає параметру «stream-timeout» в «Streamlink». «General HTTP timeout Connect/Data» – загальний тайм-аут (в секундах) , який використовується для всіх HTTP-запитів, крім тих, які охоплюються іншими параметрами. Для розуміння: в HLS-потоках це буде таймаут для отримання списку сигментів. Окремо встановлюється час (таймаут) для підключення та час на отримання даних, відповідно. Відповідає параметру «http-timeout» в «Streamlink», окрім того, що дає змогу встановити різні значення для з’єднання та читання даних. «HLS segment timeout Connect/Data» – тайм-аут (в секундах) , який використовується для HLS-сегментів (а також DASH и тому подібне). Окремо встановлюється час (таймаут) для підключення та час на отримання даних, відповідно. Відповідає параметру «stream-segment-timeout» в «Streamlink», окрім того, що дає змогу встановити різні значення для з’єднання та читання даних. «HLS segment queue threshold» – Коефіцієнт множення цільової тривалості списку відтворення HLS, після якого потік буде зупинено достроково, якщо після оновлення списку відтворення у чергу не буде поставлено нових сегментів. Відповідає параметру «hls-segment-queue-threshold» в «Streamlink». «Stream retry count» – ця опція встановлює переметри «stream-segment-attempts» та «hls-playlist-reload-attempts» для «Streamlink». Тобто кількість спроб завантаження для сигментів та списку сигментів. «Segment threads» – кількість паралельних завантажень сегментів. Це розмір пулу потоків, який використовується для завантаження сегментів. Відповідає параметру «stream-segment-threads» в «Streamlink». «Segments Queue» – розмір черги сегментів. В «Streamlink» вона є сталою, 20 сегментів. Але це забагато для Live-потоків. Чим меньша чегра тим скоріш будуть закриватися потоки, а також буде меньше споживання оперативної пам’яті та кількості відкритих сокетів. Краще встановити «as threads», тобто відповідає кількості «Segment threads» але не меньше чим 6 сегментів. «HLS live edge» – задає скільки HLS-сегментів потрібно завантажити при старті потоку. Відповідає параметру «hls-live-edge» в «Streamlink». «HLS playlist reload time» – контролює час через який виконується запит для оновлення списку сегментів. Частково відповідає параметру «hls-playlist-reload-time» в «Streamlink». Параметр «segment» має таке ж значення як і в «Streamlink». Значення «duration» відповідає «default» в «Streamlink». Значення «average» це середній час двох сегментів. Значення «default» це або одне зі значень яким відповідають «duration» / «segment», або якщо їх не має встановлено час – 6 секунд. «HLS Stream Data» – якщо активовано, негайно передає дані з сегмента в вихідний буфер під час завантаження. Канали відкриваються швидко, без попередньої буферизації перед стартом. Якщо вимкнено, дані передаються тільки після завантаження першого сигмента. Відповідає параметру «hls-segment-stream-data» в «Streamlink». «HLS Live Restart» – якщо активно, перейти до початку прямої трансляції або якнайдалі назад. Відповідає параметру «hls-live-restart» в «Streamlink». «Debug Streams» – додає журнал роботи модуля «Streamlink» в журнал роботи «TVLINK». Файл журналу роботи знаходиться в каталозі «tvlink/log». «Sources Proxy» та «Streams Proxy» – дозволяють встановити проксі для джерел та потоків. Формат: «http://login:password@your.proxy:port». Значення «login/password» не обов’язкові. Підтримуються протоколи: http, https, socks5.\nДля більшості налаштувань на цій сторінці, щоб зміни набули чинності, потрібно перечитати конфігурацію «TVLINK». Для цього є опція «Apply Settings» внизу сторінки. Опції «Refresh sources at playlist» та «Remove broken channels» цього не потребують.\nimg\nТакі налаштування потоків як:\nThreads job timeout General HTTP timeout HLS segment timeout HLS segment queue threshold Stream retry count HLS live edge HLS Stream Data HLS Live Restart Ви можете встановити окремо для кожного джерела на сторінці «Sources» (іконка біля назви джерела). При цьому не потрібно тиснути на «Apply Settings», зміни набувають чинності одразу.\nЦі самі параметри не потребують перезавантаження і на сторінці «Settings».\nКнопка «Default» в формі «Streamer settings» повертає всі окремі налаштування потоків для джерела до основних налаштувань на сторінці «Settings».\nПоля:\nPlaylist URL – дає можливість змінити URL-адресу джерела User-Agent – дає можливість встановити опцію “User-Agent” для кожного джерела (потоків в цьому джерелі) окремо. Підміняє собою опцію «Main User-Agent» Зміни в налаштуваннях цих полів відбуваються одразу як поле втрачає фокус.\nОпис деяких, не дуже зрозумілих, параметрів «TVLINK». # Спочатку визначимо, чим відрізняються тайм-аути з’єднань і читання даних (Connect timeout та Read Data timeout).\n«Connect timeout» Коли клієнт (у цьому випадку TVLINK буде клієнтом по відношенню до серверу звідки він запитує потоки) ініціалізує з’єднання, він повинен отримати відповідь від сервера (спеціальний код відповіді). Не важливо, яка саме відповідь прийде від сервера. Це може бути відповідь 200 (підключення встановлено) або 302 (переадресація) або будь-яка інша, головне, щоб сервер відповів. Якщо в проміжок часу зазначеного в тайм-аут з’єднання (час очікування підключення) відповідь від сервера не надійшла, клієнт скидає з’єднання.\n«Read Data timeout» Коли клієнт отримує відповідь 200 (підключення встановлено) від сервера, він починає завантажувати (читати) дані, які віддає сервер. Якщо за проміжок часу вказаного в тайм-аут читання даних (час очікування читання даних) сервер не передає інформацію, клієнт скидає з’єднання.\nТепер визначимся з форматами потоків.\nНайбільше розповсюджені з них це: TS та HLS.\n«TS» це по суті теж саме, якби ви завантажували якийсь файл у браузері. Клієнт робить запит і, якщо отримує відповідь 200, просто послідовно отримує дані. Дані передаються в один потік і, якщо з трафіком виникають проблеми, це викликає проблеми і з відео. Тобто для IPTV через інтернет не краще рішення. Більше підходить для локальної мережі.\n«HLS» це той же самий «TS» (спрощено звичайно), але порізаний на куски (сегменти). За рахунок того, що ці сегменти, це вже записані файли (у відмінності від TS, які ідуть у реальному часі) та їх (цих файлів) кілька, клієнт має можливість одночасно завантажити кілька сегментів. Що в свою чергу допомагає боротися з проблемами трафіку, і відповідно більше підходить для IPTV через інтернет.\nТепер безпосередньо про параметри «TVLINK».\n«General HTTP timeout Connect/Data» Якщо у вас TS-потік, саме ці тайм-аути будуть працювати. «HLS segment» тайм-аути не будуть приймати участь для таких потоків.\nЯкщо у вас HLS-потік, «General HTTP» тайм-аути працюватимуть, коли ви отримуєте плейлисти зі списком сегментів або варіантів якості потоків (провайдер може надати кілька варіантів якості потоків для різних швидкостей з’єднання). Плейлистами ми називаємо текстові файли, які містять посилання на інші плейлисти (наприклад, якщо це список якості потоків) або посилання на відеосегменти.\n«HLS segment timeout Connect/Data» Ці таймаути працюють безпосередньо з сегментами (відеофайлами). Хоча в назві цього параметра стоїть «HLS», ​​ці таймаути працюють і з іншими форматами сегментованих потоків. Наприклад, «DASH».\nУ простому випадку (без списку якості потоків) для HLS-потоків це буде виглядати так:\nотримання списку сегментів – «General HTTP timeout» завантаження сегменту 1 – «HLS segment timeout» завантаження сегменту 2 – «HLS segment timeout» завантаження сегменту 3 – «HLS segment timeout» отримання нового списку сегментів – «General HTTP timeout» завантаження сегменту 4 – «HLS segment timeout» завантаження сегменту 5 – «HLS segment timeout» завантаження сегменту 6 – «HLS segment timeout» отримання нового списку сегментів – «General HTTP timeout» і так далі…\n«HLS segment queue threshold» Цей параметр (тайм-аут) теж відноситься до HLS-потоків. Список HLS-сегментів (плейлист) містить змінну, де вказана тривалість відео в сегменті. Ця змінна використовується «TVLINK» для того, щоб дізнатися через який час запросити новий файл сегментів. Сервер постійно оновлює цей список, як тільки закінчено запис нового сегмента.\n«HLS segment queue threshold» це число на яке буде помножено змінна тривалості сегмента. І якщо протягом часу (який ми отримали при множенні) на сервері не оновився список сегментів, клієнт розірве з’єднання.\nНаприклад, у списку зазначено, що тривалість сегмента 6 секунд. «HLS segment queue threshold» у нас дорівнює трьом. Через 18 секунд клієнт розірве з’єднання, якщо на сервері не з’явився новий сегмент.\n«Threads job timeout» Це тайм-аут внутрішнього циклу «Streamlink», який читає дані зі входу і записує у вихідний потік. Якщо протягом зазначеного часу через цикл не проходять дані, він припиняє роботу. Відповідно, будь-яке з’єднання закривається. Закривається, це в теорії. Але в силу того, що модулі «Streamlink» не ідеальні з’єднання можуть залишитися відкритими. Тому я рекомендую ставити тут значення більше, ніж таймаути в «General HTTP» та «HLS segment».\n«Stream retry count» Число повторних спроб з’єднання при спрацьовуванні «General HTTP» та «HLS segment» тайм-аутів.\nFFmpeg transcode stream. # Якщо у вашій системі встановлено «FFmpeg», ви маєте можливість увімкнути модуль «FFmpeg transcode stream».\nimg\nОпції – це параметри командного рядка FFmpeg. Призначення полів:\n«Before input» – для параметрів апаратного транскодінгу «Video encoder» – параметри відео енкодера «Audio encoder» – параметри аудіо енкодера Щоб було зрозуміло, як будуть вставлені ці параметри в командний рядок «FFmpeg», ось приклад (спрощена схема):\n/usr/bin/ffmpeg -err_detect ignore_err -stream_loop -1 [Before input] -i http://channel.stream -c:v [Video encoder] -c:a [Audio encoder] -ignore_unknown -map 0:v -map 0:a -f mpegts За замовчуванням «Video/Audio encoder» містить параметр “copy”. Тобто якщо ці рядки порожні, буде встановлено значення “copy” (пропускати потік без перекодування).\nПеред тим, як встановлювати значення, переконайтеся, що «FFmpeg» в системі підтримує ті чи інші параметри. Наприклад, дайте команду\nffmpeg -hide_banner -encoders щоб подивитися доступні аудіо/відео енкодери.\nЯкщо процесор у вашій системі (наприклад, Intel Pentium N5000) підтримує апаратне кодування потоків, можна зробити, наприклад, такі налаштування.\nBefore input: -hwaccel vaapi -hwaccel_output_format vaapi -hwaccel_device /dev/dri/renderD128 Video encoder: h264_vaapi -r 50 Audio encoder: aac -b:a 96k Після застосування налаштувань (Apply Settings) на сторінці «About» з’явиться посилання на «M3U FFmpeg Playlist» (формат: http://ip-address:port/ffmpeglist).\nУвімкнення «FFmpeg transcode stream» не впливає на основний модуль трансляції. Вони працюють паралельно. Ви можете одночасно підключити одних клієнтів до звичайного плейлиста (playlist), а інших до плейлиста «FFmpeg» (ffmpeglist).\nЗа посиланням «http://ip-address:port/ffmpeglist» ви завжди можете отримати плейлист, навіть якщо «FFmpeg transcode stream» вимкнено і в системі немає «FFmpeg». Тому будьте уважні.\nЯкщо увімкнути «Debug Streams» та запустити «TVLINK» з командного рядка, при зупинці потоку буде виведено інформацію «FFmpeg» (кодування, помилки тощо).\nОновлення EPG. # img\nЦі налаштування відповідають за періодичне оновлення «EPG».\n«Auto update EPG» – увімкнути/вимкнути періодичне оновлення EPG. «Update period EPG» – вибрати зі списку період оновлення в годинах, або один раз на добу (вночі).\n"},{"id":4,"href":"/docs/tvlink/docs/source/","title":"Налаштування джерел каналів","section":"TVLINK","content":" Джерела плейлистів. # Активуйте перемикач «Playlists sources». Натисніть кнопку «Add playlist». У вікні «Add new playlist»:\nВведіть назву плейлиста. Вона має бути латинськими літерами, без спеціальних символів (пробілів, тире та інше) та не може починатися з цифри. Введіть url-адресу плейлиста. Якщо файл плейлиста збережений на локальному комп’ютері, формат адреси повинен бути таким: «file:///path_to/your_playlist_file» (наприклад, file:///Data/list/playlist.m3u). Натисніть кнопку «Save changes».\nimg\nДжерела доповнень. # Натисніть кнопку «Add addon». У вікні «Add new addon» натисніть у полі «Addon name». З’явиться перелік готових доповнень які вже присутні в репозиторії. Виберіть той що вам потрібен і натисніть «Save changes».\nimg\nВи можете створити власне доповнення. Як це зробити, читайте тут.\nДжерела Ministra/Stаlker Middleware. # Натисніть кнопку «Add portal». У вікні «Add new Portal (Stаlker Middleware)» введіть:\nНазву порталу (Portal name). Вона має бути латинськими літерами, без спеціальних символів (пробілів, тире та інше) та не може починатися з цифри. Url-адресу порталу (Portal url). MAC-адресу для доступу до порталу (User MAC). Не обов’язковий перемикач «Use HLS streams» дозволяє отримувати HLS-потоки, якщо Портал підтримує такий спосіб. На етапі створення краще не вмикати цей параметр, якщо ви не впевнені в підтримці порталом HLS-потоків.\nimg\nПісля того як ви натиснете кнопку «Save changes», в каталозі «tvlink/scrapers» буде створено файл з іменем вашого порталу. В цьому прикладі «tvlink/scrapers/Portal.py». Цей файл містить три змінні які ви можете редагувати (це не обов’язково):\nINCLUDE_GROUP – це список груп каналів які ви хочете отримувати. Всі інші групи будуть ігноруватися (не потраплять в список). Зауважте, що перевіряться точний збіг, враховуючи регістр символів.\nEXCLUDE_NAME – список в якому можно задати символи, які будуть виключені із назви каналу. Наприклад: якщо назва каналу «US Discovery HD», а ви хочете мати «Discovery HD», зробіть EXCLUDE_NAME = [‘US ‘]. Зауважте, в цьому прикладі є пропуск в кінці ‘US ‘.\nDEFAULT_LOGO – url-адреса іконки, яка буде застосована для каналів де іконка відсутня, або якщо ввімкнена опція «Disable load icons» в налаштуваннях джерела.\nПісля редагування цих змінних потрібно натиснути «Apply Settings» на сторінці «Settings» або перезавантажити програму.\nimg\nОпції «Portal url», «User MAC», «Use HLS streams», «Disable load icons» та «Repeat source streams» ви можете змінювати без перезавантаження налаштувань, але потрібно оновити джерело (іконка Update).\nimg\n«Disable load icons» – вимикає отримання іконок каналів з порталу. На деяких порталах прописані недійсні адреси іконок. Це призводить до затримки (залежить від вашого браузера) відображення списків каналів в веб-інтерфейсі програми.\n«Repeat source streams» – дозволяє встановити кількість повторів програвання потоку під час збоїв. Ця опція не має відношення до Streamlink-опції «Stream retry count». Значення “always” – повтори не обмежені, “0” – функція відключена (за замовчуванням), інші значення – кількість повторів. Детальніше тут.\nПозволяет установить количество повторов проигрывания потока при сбоях. Эта опция не имеет отношения к Streamlink-опции \u0026ldquo;Stream retry count\u0026rdquo;. Значение \u0026ldquo;always\u0026rdquo; - повторы не ограничены, \u0026ldquo;0\u0026rdquo; - функция отключена (по умолчанию), остальные значения - количество повторов. Лучше будет об\u0026rsquo;ъяснить на примере: если ваш канал имеет всего один поток и при условии, что этот поток хоть как-то работает - TVLINK бесконечно будет пытаться перезапустить этот поток. Функция \u0026ldquo;Repeat source streams\u0026rdquo; делает тоже самое для источника (потока этого источника) канала где больше чем один поток. Таким образом, переключение на следующий поток этого канала произойдет при условии: или поток совсем перестал работать или по выбраному вами количеству повторов. Если выбрано \u0026ldquo;always\u0026rdquo; - то только если поток перестал хоть что-то отдавать.\nДжерела AceStream. # Натисніть кнопку «Add Acestream». У вікні «Add new AceStream source» введіть:\nНазву джерела (Source name). Вона має бути латинськими літерами, без спеціальних символів (пробілів, тире та інше) та не може починатися з цифри.\nUrl-адресу сервера «AceStream» в форматі http://ip-address:port (наприклад: http://192.168.1.1:6878).\nНе обов’язковий перемикач «Use HLS streams» дозволяє отримувати HLS-потоки. Не рекомендуеться вмикати якщо серевер «AceStream» працює в вашій локальній мережі, це суттєво збільшить час перемикання каналів.\nПісля того як ви натиснете кнопку «Save changes», ви можете в налаштуваннях джерела вписати групу/групи каналів які ви хочете отримати в поле «Channel Categories (comma-delimited)». За замовчуванням це поле порожня і це означає, що будуть завантажені всі канали всіх груп (їх біля 3000). Назви офіційних груп ви знайдете тут. Користувачі які запускають трансляції можуть створювати свої назви груп обо зовсім ігнорувати створення групи. Тому, якщо вам потрібні всі канали які є в базі «AceStream» то залиште поле «Channel Categories (comma-delimited)» пустим.\nimg\nБаза каналів завантажуеться напряму з «AceStream Server-side Search API» і не залежить від інших ресурсів (наприклад таких як: pomoyka.i2p).\nТаблиця Джерела. # img\n«Name» – ім’я джерела, налаштування та видалення цього джерела. Коли джерело активне та оновлене, ім’я стає посиланням на редагування (співставлення) каналів для цього джерела. Іконка налаштувань відображається синім кольором, якщо джерело має налаштування потоків «за замовчуванням», і зелений колір, якщо користувач змінив параметри. «Catchup» – вибір архіву. Підтримуються типи: «Append», «Shift» та «Flussonic». «Enable» – вмикає або вимикає джерело. «Prio» – пріоритет джерела. Чим менше значення тим більший пріоритет. «Limit» – обмежує доступ клієнтів до джерела. Значення, це максимальна кількість клієнтів які можуть дивитись одночасно з цього джерела. «Add channels» – якщо цей перемикач увімкнений і ви оновите джерело, всі канали джерела будуть автоматично додано у список каналів «TVLINK» (channels mapping). Це працює тільки при ручному (примусовому) оновленні каналів, при автоматичному оновленні ця опція ігнорується. «New channels» – якщо цей перемикач увімкнений, при оновленні джерела, в список каналів «TVLINK» будуть добавлятися нові канали, якщо вони з’явились в цьому джерелі. «Update period» – час (в годинах) через який джерело буде автоматично оновлюватися. Нуль, означає що оновлення вимкнуте. «Update» – негайне оновлення джерела, а також час останнього оновлення. «Links» – кількість посилань на потоки (канали) які містить джерело.\nДодавання каналів в список. # Є два варіанти, як ви можете добавити (channels mapping) канали з джерела в список каналів «TVLINK»:\nУвімкнути перемикач «Add channels» та натиснути «Update». В цьому випадку всі канали джерела будуть автоматично додано у список каналів «TVLINK». Оновити джерело, натиснувши «Update». Після цього назва джерела стає посиланням на сторінку де ви можете добавляти канали в ручному режимі. img\nПеремикач «Map» додає канал до списку каналів «TVLINK». При додаванні каналів створюється група до якої належить канал і переноситься іконка.\nАвтоматичне об\u0026rsquo;єднання каналів. # «TVLINK» автоматично об’єднує канали з однаковими назвами. Тому кількість каналів джерела (Links) не завжди відповідає кількості каналів в списку «TVLINK». При об’єднанні, регістр символів та пробіли у назві каналу ігноруються. Наприклад, всі канали з такими іменами будуть вважатися одним і тим самим каналом:\nChannel 25 CHANNEL 25 ChaNNel25 Якщо в плейлисті або доповненні присутні групи каналів, вони також будуть експортовані. Якщо груп не має, усім каналам джерела буде присвоєно групу з назвою самого джерела.\nАрхіви каналів (Catchup). # Якщо ваш IPTV-провайдер надає таку функцію, виберіть один із типів архіву:\nAppend Flussonic Shift «none» – означає що функцію вимкнено. Який саме у вас тип архіву, ви можете дізнатися у свого IPTV-провайдера.\n«TVLINK» підтримує автоматичне перемикання архівних потоків під час збою, незалежно від типів архіву. Це означає, що при проблемі з архівним потоком з джерела де стоїть тип «Shift», станеться переключення на архівний потік з джерела з «Flussonic». Порядок перемикання залежить від пріоритету джерел. Тобто та ж функціональність, що й зі звичайними потоками.\nЯкщо ви використовуєте сторонній IPTV-плеєр (не PVR TVLINK Client), в його налаштуваннях треба встановити тип архіву «Shift». Тобто сам «TVLINK», в незалежності який тип архіву у джерела, буде видавати архіви в форматі «Shift».\nПріоритет джерела (Prio). # Якщо обидва джерела містять один і той же канал, то першим буде використаний потік із джерела з вищим пріоритетом (нижчою цифрою). Якщо цей потік не працює або припинив трансляцію в процесі роботи, «TVLINK» переключиться на наступне джерело з нижчим пріоритетом і так далі, по колу.\nОбмеження з’єднань з джерелом (Limit). # Якщо джерело має обмеження на кількість підключень до потоків, встановіть потрібне значення. Це потрібно, щоб ваш IPTV-провайдер не заблокував вам доступ. «TVLINK» буде автоматично перемикати на наступний потік якщо ліміт буде перевищено.\n«TVLINK» перемикає канали в асинхронному режимі. Це означає, що програма не чекає на закриття попереднього потоку перед тим як відкрити наступний. В іншому випадку, канали би перемикались дуже повільно. Ідентифікація клієнтів відбувається за їх IP-адресою. Ці два факти накладають деякі обмеження на роботу опції «Limit». А саме. Для клієнтів які мають одну і туж IP-адресу, «TVLINK» автоматично збільшує ліміт підключень. В журналі роботи програми ви будете бачити такий запис:\nIncrease MaxStream count [1+1 HD] from [MySouce]: set max stream [2] - limit [1] Це означає що для джерела «MySouce» встановлений ліміт на одне підключення. Але, так як при перемиканні каналу попередній потік ще не закрився, «TVLINK» автоматично збільшив ліміт (на одиницю). Якщо би цього не сталося, джерело «MySouce» не було би доступне у цей момент.\nТакож, якщо два клієнти мають однакову IP-адресу (на одній і тій же машині запущено два IPTV-програвача) та роблять запит до одного джерела, ліміт цього джерела теж буде збільшено на одиницю. Адже «TVLINK» не має можливості визначити, чи це запит на перемикання каналу одного і того самого клієнта, чи це запит від іншого клієнта. Так як IP-адреси у них однакові.\n«Update all sources» – натисніть якщо вам потрібно оновити всі джерела каналів разом (знаходиться внизу сторінки). Якщо в налаштуваннях сервера (Settings) ввімкнута опція «Create static playlist», також буде створено статичний плейлист.\n«Create static playlist» – якщо в налаштуваннях (сторінка Settings) у вас включена опція «Create static playlist», то внизу, на сторінці джерел (Sources), з’явиться посилання «Create static playlist». Це дозволяє оновити статичний плейлист, не оновлюючи всі джерела.\n"},{"id":5,"href":"/docs/tvlink/docs/epg/","title":"Розклад передач (EPG)","section":"TVLINK","content":" Розклад передач (EPG). # Налаштування EPG потрібно проводити після того як ви добавили канали в «TVLINK» (channel mapping).\nВи можете використовувати джерела EPG які вже присутні в програмі (EPG Static sources), або створити свої (EPG Custom sources). Активуйте потрібний перемикач.\nimg\nЯкщо ви бажаєте створити своє джерело, натисніть кнопку «Add EPG» та заповніть форму «Add new EPG».\n«EPG name» – будь яка назва на ваш вибір, латинськими літерами та без спеціальних символів (тире, пробіл, тощо). «EPG url» – адреса XMLTV-файлу. Може бути заархівований (.tar.gz) або ні (.xmltv). Натисніть кнопку «Save changes», щоб зберегти налаштування.\nОпції. # «Name» – ім’я джерела та посилання (коли джерело активне та оновлене) на редагування (співставлення) каналів для цього джерела. «Enable» — увімкнення/вимкнення джерела. «Prio» – пріоритет. Якщо активно кілька джерел, «TVLINK» шукатиме відповідності канал-програма в порядку пріоритету джерел. Все що не знайшов у першому, шукатиме у другому і так далі. «File date» – якщо джерело XMLTV надає таку інформацію, тут буде вказана дата створення XMLTV-файлу джерела. Якщо така інформація не надається, тут буде вказана дата останнього завантаження файлу. «Update» – інформація про останнє зіставлення каналів та створення програми, а також кнопка «Оновити». Ця кнопка не створює програму, її дії обмежені завантаженням та автоматичним зіставленням назв каналів із програмою. Це потрібно, щоб ви могли вручну зіставити ті канали, які «TVLINK» не зміг зіставити автоматично. Або, змінити автоматичне зіставлення, якщо це потрібно. «Channels» – тут відображається загальна кількість назв каналів у джерелі. Просто інформація, тому що не завжди вказані в джерелі канали містять програму.\nКнопки. # «Create EPG» – створює програму. XMLTV-файл буде доступний за адресою: «http://ip-address:port/xmltv» «Clean manual EPG mapping» – очищає всі зіставлення, які ви зробили вручну. Після того, як Ви натиснули кнопку в колонці «Update» можна перейти за посиланням з колонки «Name» і зіставити канали які «TVLINK» не знайшов або змінити зіставлення тих каналів, що Вас не влаштовують.\nimg\n«Auto EPG mapping» – в цій колонці відображаються назви каналів з XMLTV-джерела які «TVLINK» зіставив автоматично. «Manual EPG mapping» – тут можна зіставити канали вручну.\nimg\nВідсортувавши таблицю по колонці «Auto EPG mapping», ми отримаємо вгорі списку всі канали які автоматично не були зіставленні (для зручності).\nТак як випадаючий список колонки «Manual EPG mapping» містить всі назви каналів з EPG-джерела, знайти потрібну досить важко. Щоб спростити завдання, потрібно ввести перші літери з назви каналу і список переміститься у потрібну позицію.\nПісля зроблених налаштувань потрібно повернутися на сторінку «Sources» і натиснути кнопку «Create EPG».\nВ джерелах «EPG Static sources» ви маєте можливість, при потребі, змінити URL-адресу. Для цього натисніть іконку «Edit» біля назви джерела.\nПеріодичність оновлення джерел EPG задається на сторінці «Settings» у підрозділі «EPG settings».\n"},{"id":6,"href":"/docs/tvlink/docs/profiles/","title":"Профілі користувачів","section":"TVLINK","content":" Профілі користувачів. # Налаштування профілів потрібно проводити після того як ви добавили канали в «TVLINK» (channel mapping).\nПрофілі надають змогу мати різні набори каналів та груп для різних клієнтів. Канали та групи в профілях беруться із основного набору каналів на сторінці «Channels» (головний профіль), тому спочатку потрібно добавити в «Channels» всі канали які можуть вам знадобитися в профілях.\nТакож, при створенні профілю ви маєте можливість встановити IP-адресу для потоків та плейлистів цього профілю та маркер автентифікації (token), якщо це потрібно.\nНатисніть кнопку «Add user» в «User Profiles» та заповніть форму «Add user profile».\n«User» – ім’я клієнта. Латинськими літерами та без спеціальних символів (тире, пробіл, тощо). «Playlist IP» – адреса яка буде використовуватися для плейлистів та потоків цього профілю. «Token for playlist/streams» – токен який буде використовуватися для плейлистів та потоків цього профілю якщо активовано опцію «Authentication Token». Якщо залишити рядок пустим, токен буде створено автоматично. «Comment» – будь який коментар. Окрім рядка «User», всі інші заповнювати не обов’язково.\nimg\nПісля підтвердження (Save changes), ім’я профілю (User) стає посиланням. Перехід за цим посиланням відкриває налаштування груп і каналів профілю.\nimg\nВи можете вимикати (вмикати) групи або канали які не повинні бути у цьому профі.\nІконка «Налаштування» біля імені профілю, дозволяє змінити всі опції (Playlist IP, Token, Comment).\nПісля будь-яких змін в налаштуваннях «Токенів» потрібно застосувати налаштування («Apply Settings» внизу сторінки) або перезавантажити програму.\nЯкщо у Вас ввімкнена опція «Create static playlist» то при будь-яких змінах в налаштуваннях «Токенів» або «Playlist IP», не забувайте оновити статичні плейлисти (натисніть «Update all sources» на сторінці «Sources»).\nІконка «Видалення» – видаляє профіль.\nВ колонці «Playlist URL» відображаються посилання на плейлист профілю в форматі:\nhttp://\u0026lt;ip-address\u0026gt;:\u0026lt;port\u0026gt;/\u0026lt;token\u0026gt;/playlist/\u0026lt;user\u0026gt; token – якщо активовано «Authentication Token» user – ім’я профілю Для «PVR TVLINK Client» ім’я профілю та токен достатньо вказати в налаштуваннях.\n"},{"id":7,"href":"/docs/tvlink/docs/channels/","title":"Канали","section":"TVLINK","content":" Дана інформація стосується налаштувань на сторінці «Channels».\nСписки каналів всіх сторінках інтерфейсу відображаються порціями по 200 каналів на сторінку (знизу є кнопки для перегортання сторінок). При видаленні або зв’язуванні каналів самі сторінки не оновлюються, лише видаляються елементи. Це зроблено для прискорення роботи, щоб не чекати при кожній дії, поки оновиться сторінка. Але це вносить певну плутанину. Наприклад, у вас список складається з 300 каналів: 200 каналів на одній сторінці та інші на другій. Якщо Ви видалите 10 каналів з першої сторінки, то при переході на другу Ви побачите вже не 100 каналів, а 90. При оновленні сторінки прочитався список заново і на першій сторінці так само 200 каналів, а на другій все інше. Просто пам’ятайте про це під час редагування.\nЛоготипи каналів. # Щоб встановити або змінити логотип каналу натисніть іконку в стовпчику «Logo». В формі яка з’явиться ви можете вказати url-адресу потрібного зображення і натиснути «Save changes». Бажано, щоб зображення було в «png» форматі, але допускаються і інші (jpg, gif, bmp).\nimg\nЯкщо ви скопіювали власні логотипи каналів у папку «tvlink/logos», то натиснувши кнопку «Local logos» Ви можете зіставити логотип каналу.\nНайвищий пріоритет мають іконки, які розташовані в каталогу «tvlink/logos» та мають формат «ID-каналу.png» (наприклад: 7B7ADBFF.png). «ID-каналу» ви можете бачити у стовпчику «ID». Якщо такої іконки немає, «TVLINK» бере іконку, яку Ви зазначили вище.\nЯкщо канал не має іконки, вона буде автоматично додана, коли ви робите примусове оновлення будь-якого джерела з увімкненою опцією «Add channels». За умови, що імена каналів збігаються, і у джерела є іконка цього каналу.\nУтиліта «picons». # Дозволяє завантажувати іконки каналів з сайту «epg.one» та автоматично конвертує імена логотипів у формат зрозумілий для «TVLINK» (наприклад: 7B7ADBFF.png).\nУтиліта консольна, запускається в терміналі. Розміщена в каталозі “tvlink”, треба вказати повний шлях. Наприклад:\n/storage/.config/tvlink/picons Довідка по аргументам:\n/patch_to/tvlink/picons -h Запуск «picons» без аргументів завантажує та конвертує “transparent” іконки.\nТе саме, завантажити і конвертувати іконки, можна зробити і в веб-інтерфейсі «TVLINK», на сторінці «Sources».\nimg\nВиберіть потрібні опції і натисніть «Create picons».\nНомери каналів. # В стовпчику «Num» ви можете вказати номери каналів. Можна вказати номер лише одному каналу або не вказувати зовсім, у плейлисті каналам все одно будуть присвоєні номери (в алфавітному порядку назв каналів). Якщо вказано номер хоч одного каналу, відлік почнеться з нього. Якщо не вказати номер жодному каналу, відлік почнеться з одиниці.\nНазви каналів. # В стовпчику «Name» ви можете редагувати назви каналів. Зміни набирають чинності, як тільки рядок з назвою каналу втрачає фокус.\nГрупи каналів. # В стовпчику «Group» ви можете змінювати групу якій належить канал. Групи вибираються зі списку.\nЯкщо потрібно змінити групу для декількох каналів разом:\nПоставите відмітки в полях «Clean» напроти каналів групу яких ви хочете змінити. Змініть групу на одному з відмічених каналів. Таким чином, ви зміните групу для всіх обраних каналів.\nimg\nНатискання на саму назву «Clean» знімає відмітки зі всіх обраних каналів. Це на той випадок, якщо ви помилились з вибором.\nПараметри каналів. # Іконки в стовпчику «Control» (зліва на право):\n«Info» – інформація та управління потоками каналу «Join» – об’єднання каналів та їх потоків «Break» – роз’єднування каналів «Delete» – видалення каналів\nInfo.\nЯкщо вам треба вимкнути або ввімкнути якісь потоки каналу, переведіть перемикач «Enable» у потрібне положення.\nimg\nВ цій таблиці потоки (посилання) розташовані в порядку їх пріоритету. Тобто, в тій послідовності в якій «TVLINK» буде їх перемикати якщо станеться збій попереднього потоку.\nJoin.\n«TVLINK» автоматично об’єднує канали з однаковими іменами. Регістр символів та пробіли у назві каналу ігноруються. Також ви можете об’єднувати канали самостійно. Для цього потрібно вибрати канали (в стовпчику «Clean») які ви би хотіли додати і натиснути «Join» каналу з яким ви хочете їх об’єднати.\nimg\nBreak.\nЦя процедура протилежна попередній.\nDelete.\nВидаляє канал із списку каналів «Channels». При цьому канал стає знову доступним в своєму джерелі.\nID каналів. # img\nВ цьому стовпчику відображаються унікальний ідентифікатор каналу і містить пряме посилання на цей канал. Це посилання можна вставити в плеєр (наприклад VLC) щоб відтворити канал або просто записати потік в браузері. Щоб потім програвати записаний канал в плеєрі, додайте файлу розширення «.ts».\nІконка «Play» біля «ID» каналу, відкриває простий веб-програвач. Це для зручності, коли вам потрібно протестувати канал. Веб-програвач не підтримує перемикання потоків, а також може не відтворювати деякі канали.\n«Delete channels» внизу сторінки, видаляє всі канали із списку каналів «Channels».\n"},{"id":8,"href":"/docs/tvlink/docs/gpoups/","title":"Групи каналів","section":"TVLINK","content":" Групи каналів # Дана інформація стосується налаштувань на сторінці «Groups».\nГрупи. # img\nКнопки.\n«Create new group» – дозволяє створити нову групу. Нова група стає доступною на сторінці «Channels». «Clean all groups» – видаляє всі групи без винятку.\nТаблиця.\n«Title» – ім’я групи. Якщо змінити назву групи, зміниться назва групи всіх каналів які належать до цієї групи (мається на увазі, на сторінці «Channels»). Якщо іншій групі дати таку саму назву, ці дві групи об’єднаються в одну. «Enabled» – якщо вимкнути, всі канали цієї групи будуть видалені на сторінці «Channels» та при оновлені (чи додаванні нових) джерел, канали які належать до цієї групи не будуть додаватися в список каналів «TVLINK». Якщо ввімкнути (після вимкнення) та оновити джерело/джерела, канали цієї групи повернуться в «Channels». «Control» – синя іконка дозволяє задати «Псевдоніми» для групи. Червона, видаляє групу. Псевдоніми груп задаються через кому. Регістр символів у псевдонімах не має значення. Можна написати: “Films”, “FILMS” або “FiLmS”. Якщо для групи вказано псевдонім, то при зіставленні каналів (channels mapping) група джерела буде замінена оригінальною у списку каналів «Channels».\nimg\nПеревіряється не повний збіг із шаблоном (псевдонімом), а входження слова в шаблон. Наприклад, якщо для групи “Films” задати псевдонім – “Films and series”. До групи “Films” потраплять такі групи (без урахування регістру): “Films and series”, “Series” та звісно “Films”.\nВидалити групу ви можете тільки в тому випадку, якщо цій групі не належить ні один канал на сторінці «Channels». Інакше, «TVLINK» не дозволить вам це зробити. Ви можете, наприклад, спочатку вимкнути групу, а вже потім видалити, якщо в групі є канали.\nСортування груп. # «Sort groups» внизу сторінки відкриє ці налаштування.\nimg\nПорядок сортування задається числом. Чим менше число, тим вище група у списку. На сторінці сортування відображаються всі активні (не вимкнені) групи до яких доданий хоча б один канал, незалежно чи є цей канал на сторінці «Channels» в даний момент. Нумерація каналів (якщо вона є) має пріоритет над сортуванням груп. Щоб подивитися як виглядатиме список каналів та груп після їх сортування/нумерації, відсортуйте канали по «Group» на сторінці «Channels». Саме такий порядок каналів буде у плейлисті. Саме сортування (за номерами, іменами, групами) на сторінці «Channels» не впливає на плейлист, воно тільки для зручності редагування каналів.\n"},{"id":9,"href":"/docs/tvlink/docs/status/","title":"Статус роботи та оновлення програми","section":"TVLINK","content":" Статус роботи та оновлення програми # Дана інформація стосується налаштувань на сторінках «Status» та «About».\nСтатус роботи програми. # img\nТаблиця в верхній частині сторінки «Status» відображає інформацію про використання програмою ресурсів системи. Інформація оновлюється кожні 10 секунд.\n«TVLINK start time» – дата та час коли була запущена (ініціалізовані налаштування) програма. «TVLINK uses memory» – кількість оперативної пам’яті яку займає програма в мегабайтах. «TVLINK open sockets» – кількість відкритих на даний момент сокетів. «Used system memory» – процент оперативної пам’яті який використовує система. Мається на увазі вся система і її процеси, а не тільки «TVLINK». Якщо в даний час відбувається трансляція потоків (до серверу під’єднані клієнти), відображаються таблиця «Active streams».\nimg\nЦе інформація:\n«Client» – IP адреса та порт клієнта. «Channel» – канал який транслюється клієнту. «Source» – джерело з якого транслюється потік. «Start Time» – час коли була запущена трансляція. «URL» – адреса з якої «TVLINK» бере потік. Червона іконка в стовпчику «Client» дозволяє перемкнути трансляцію на наступний потік для клієнта.\nЗа посиланням «View program Logs» (внизу сторінки) відкривається сторінка з журналом роботи програми. Оновлення інформації на цій сторінці також відбувається кожні 10 секунд.\nimg\nОновлення програми. # На сторінці «About» відображаються версія програми, а також посилання для завантаження плейлиста та EPG.\nimg\nЯкщо доступна нова версія програми, з’являться інформація про це та іконка «Update». Натисніть цю іконку і почекайте поки програма не оновиться.\nimg\nПри оновлені всі налаштування зберігаються. На всяк випадок, ви можете зберегти ваші налаштування скопіював каталог «tvlink/data» та при необхідності відновити його.\n"},{"id":10,"href":"/docs/tvlink/docs/pvr-tvlink-client/","title":"PVR TVLINK Client","section":"TVLINK","content":" PVR TVLINK клієнт для Kodi # Як клієнт до «TVLINK» найкраще всього підходить «PVR TVLINK Client» для «Kodi». Тільки з цім клієнтом ви отримаєте всі можливості сервера «TVLINK». Такі, як наприклад, перемикання потоків (під час збоїв трансляції) одного і того самого каналу з різними форматами аудіо/відео не помітно для користувача. Клієнт підтримує “Timeshift” (пауза/перемотка), IPTV-архіви та EPG.\nimg\nКод клієнта базується на «PVR IPTV Simple» але зроблений так щоб відповідати всім вимогам «TVLINK». Наприклад, клієнт ніколи не розірве з’єднання з сервером «TVLINK» за власним бажанням. Це станеться тільки коли користувач перемикне канал або зупинить трансляцію каналу.\nДля «PVR TVLINK Client» потрібна модифікована версія «Kodi», він не буде працювати з оригінальним «Kodi».\nНалаштування. # img\nВкладка «General».\n«TVLINK IP-address» – ip-адреса сервера «TVLINK». «TVLINK port» – порт сервера «TVLINK». «TVLINK profile» – профіль користувача на сервері «TVLINK». Якщо не вказано використовується основний профіль (main). «Auth. Token» – токен авторизації, якщо потрібен. «FFmpeg playlist» – ввімкніть, якщо ви хочете отримувати трансляції які будуть оброблятися ffmpeg-модулем «TVLINK».\nВкладка «Streams».\nimg\n«TVLINK connection timeout» – тайм-аут з’єднання клієнта з сервером «TVLINK» для отримання списку каналів. Ця опція не впливає на трансляції. «Buffering streams» – якщо активовано, клієнт буде додатково буферизувати потоки (засобами Kodi). «FFmpegDirect for Timeshift» – вмикає функцію Timeshift через доповнення «Inputstream FFmpeg Direct». «FFmpegDirect for Catchup» – вмикає функцію Catchup через доповнення «Inputstream FFmpeg Direct».\nДві останні опції (FFmpegDirect for…*) будуть працювати тільки якщо ви встановите доповнення «Inputstream FFmpeg Direct». В іншому випадку кліент їх буде ігнорувати.\n«Timeshift» працює тільки коли ввімкненна опція «FFmpegDirect for Timeshift». Для роботи IPTV-архівів (Catchup) – «FFmpegDirect for Catchup» не обовязкова.\nЯ би не радив використовувати ці функції. Доповнення «Inputstream FFmpeg Direct» не корректно (на данний час) працює на деяких архітектурах, наприклад Intel. По друге, якщо ви включите «FFmpegDirect for Timeshift» – у вас перестане працювати автоматична зміна потоків в каналі. Доповнення «Inputstream FFmpeg Direct», через яке будуть проходити потоки, не вміє автоматично змінювати параметри потоку.\nВсі інші налаштування такі самі як і в «PVR IPTV Simple» клієнта.\nimg\n"},{"id":11,"href":"/docs/tvlink/docs/tvlink-simple-conrol/","title":"TVLINK Simple Control","section":"TVLINK","content":" Доповнення «TVLINK Simple Control» для Kodi. # img\nДає змогу контролювати потоки каналу (вмикати/вимикати) та показує (виділяє жовтим кольором) посилання на потік який транслюється в цей момент.\nimg\nТакож дає можливість:\nпослідовно перемикати потоки каналу оновлювати джерела каналів «TVLINK» показувати інформацію по підключеним до «TVLINK» клієнтам показувати інформацію по використанню оперативної пам’яті та сокетам\nНалаштування. # img\n«IP-address TVLINK» – ip-адреса сервера «TVLINK» «Port TVLINK» – порт сервера «TVLINK»\nЯкщо сервер «TVLINK» і «TVLINK Simple Control» знаходиться на одній машині, і адреса сервера «TVLINK» в «PVR TVLINK Client» встановлена як «127.0.0.1», ви можете залишити налаштування за замовчуванням. Якщо не вказано «IP-address TVLINK», «TVLINK Simple Control» використовує адресу «127.0.0.1».\nВ модифікованих (ae-fork) ELEC-системах доповнення викликається довгим утриманням (longpress) кнопки «і» (info) клавіатури. Для пульта ДУ в цих системах зроблені такі налаштування файлу «keyboard.xml» в Kodi.\n\u0026lt;FullscreenLiveTV\u0026gt; \u0026lt;keyboard\u0026gt; … \u0026lt;i mod=\u0026quot;longpress\u0026quot;\u0026gt;RunAddon(script.tvlink.conrol)\u0026lt;/i\u0026gt; \u0026lt;/keyboard\u0026gt; \u0026lt;/FullscreenLiveTV\u0026gt; "}]